{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect, useState } from \"react\";\nimport Link from 'next/link';\nimport { get } from \"superagent\";\nimport FlexSearch from \"flexsearch\";\nexport default function Navigation() {\n  const {\n    0: input,\n    1: setSearch\n  } = useState('');\n  const {\n    0: index,\n    1: setIndex\n  } = useState(null);\n  const {\n    0: cursor,\n    1: setCursor\n  } = useState(true);\n  const results = input.trim() == '' || !index ? null : index.search(input.trim(), {\n    suggest: true,\n    limit: 20,\n    page: cursor\n  });\n  useEffect(() => {\n    get('/packages/search.index').then(x => {\n      const searchIndex = FlexSearch.create({\n        tokenize: 'forward',\n        encode: 'extra',\n        threshold: 1,\n        resolution: 3,\n        depth: 2,\n        profile: 'score',\n        doc: {\n          id: \"id\",\n          field: [\"name\", \"description\"]\n        }\n      }); //database.map( (x,i) => index.add(i, x.description));\n      //database.map( (x,i) => x.topics.map(t=>index.add(i, t)));\n\n      searchIndex.import(x.text);\n      setIndex(searchIndex);\n    });\n  }, []);\n\n  const searchResults = results && results.result && /*#__PURE__*/_jsxs(\"div\", {\n    className: \"banner white\",\n    style: {\n      display: 'flex',\n      flexFlow: 'column'\n    },\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      children: [\" Results \", results.result.length, \" \"]\n    }), (results && results.result || []).map(x => /*#__PURE__*/_jsx(Link, {\n      href: `/packages/${x.name}`,\n      prefetch: true,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"view\",\n        style: {\n          display: 'inline-flex'\n        },\n        onClick: () => {\n          setSearch('');\n          setCursor(true);\n        },\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"package\",\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: `/packages/${x.name}/logo.png`\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              children: x.name\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: x.description\n            })]\n          })]\n        })\n      })\n    }, x.name))]\n  });\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"navigation\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"view row space-between\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"links\",\n          children: [/*#__PURE__*/_jsx(Link, {\n            href: '/',\n            children: /*#__PURE__*/_jsx(\"a\", {\n              className: \"buckaroo\",\n              children: \"Buckaroo\"\n            })\n          }), /*#__PURE__*/_jsx(\"a\", {\n            href: \"https://github.com/LoopPerfect/buckaroo/wiki\",\n            target: \"_blank\",\n            children: \"Docs\"\n          }), /*#__PURE__*/_jsx(Link, {\n            href: \"/blog\",\n            children: /*#__PURE__*/_jsx(\"a\", {\n              href: \"/blog\",\n              children: \"Blog\"\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"search\",\n          children: [/*#__PURE__*/_jsx(\"input\", {\n            placeholder: \"search for a module...\",\n            value: input,\n            onChange: e => setSearch(e.target.value)\n          }), /*#__PURE__*/_jsx(\"button\", {\n            className: \"fa fa-search fa-large\"\n          })]\n        }), /*#__PURE__*/_jsx(\"iframe\", {\n          id: \"star-button\",\n          src: \"https://ghbtns.com/github-btn.html?user=LoopPerfect&repo=buckaroo&type=star&count=true&size=large\",\n          frameBorder: \"0\",\n          scrolling: \"0\",\n          width: \"160px\",\n          height: \"30px\"\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      children: searchResults\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}