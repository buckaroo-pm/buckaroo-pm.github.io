_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{"12jL":function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return m})),t.d(a,"default",(function(){return u}));var n=t("rePB"),c=t("Ff2n"),o=(t("q1tI"),t("7ljp")),s=t("ZDfL");function p(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function r(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?p(Object(t),!0).forEach((function(a){Object(n.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var m={title:"Common Misconceptions of C++",banner:"/posts/common-missconceptions.jpeg",attribution:"\u201cblack swirl of letters\u201d by Nathaniel Shuman on Unsplash",author:"Team Buckaroo",created:"2018-11-06T11:00:00.000Z",__resourcePath:"blog/common-misconceptions-of-c.md",__scans:{},layout:"index"},l={frontMatter:m},N=s.a;function u(e){var a=e.components,t=Object(c.a)(e,["components"]);return Object(o.a)(N,r(r(r({},l),t),{},{components:a,mdxType:"MDXLayout"}),Object(o.a)("p",null,"C++ has evolved massively in recent years and yet it is still perceived by many as the language that it was back in the early 2000s. Let\u2019s dispel some myths\u2026"),Object(o.a)("h3",null,"C++ is a Dying Language"),Object(o.a)("p",null,"C++ is actually growing! Even as computers becomes faster, our demands of what we want to do with them are always increasing. C++ is one of the few languages that allows us to maximize the potential of our hardware."),Object(o.a)("p",null,"Stroustrup\u2019s talk from CPP Con shows C++ on a growth trajectory."),Object(o.a)("center",null,Object(o.a)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/_wzc7a3McOs",frameborder:"0",allowfullscreen:!0})),Object(o.a)("h3",null,"C++ is verbose and unproductive"),Object(o.a)("p",null,"With the new auto keyword and lambda syntax, C++ can be correct, fast ",Object(o.a)("em",{parentName:"p"},"and")," concise."),Object(o.a)("p",null,"For example, compare these two programs in JavaScript and C++ 14:"),Object(o.a)("pre",r({},{className:"language-js"}),Object(o.a)("code",r({parentName:"pre"},{className:"language-js"}),Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"const")," ",Object(o.a)("span",r({parentName:"code"},{className:"token function-variable function"}),"length")," ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token parameter"}),"p")," ",Object(o.a)("span",r({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword control-flow"}),"return")," ",Object(o.a)("span",r({parentName:"code"},{className:"token known-class-name class-name"}),"Math"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"."),Object(o.a)("span",r({parentName:"code"},{className:"token method function property-access"}),"sqrt"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),"p",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"."),Object(o.a)("span",r({parentName:"code"},{className:"token property-access"}),"x")," ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"*")," p",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"."),Object(o.a)("span",r({parentName:"code"},{className:"token property-access"}),"x")," ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"+")," p",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"."),Object(o.a)("span",r({parentName:"code"},{className:"token property-access"}),"y")," ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"*")," p",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"."),Object(o.a)("span",r({parentName:"code"},{className:"token property-access"}),"y"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"let")," points ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"["),"\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{")," x",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),":")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"1"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," y",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),":")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"2")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," \n  ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{")," x",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),":")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"3"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," y",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),":")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"4")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," \n  ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{")," x",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),":")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"6"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," y",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),":")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"2")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," \n",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"]"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"let")," total ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"0.0"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(o.a)("span",r({parentName:"code"},{className:"token keyword control-flow"}),"for")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"const")," p ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"of")," points",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"\n  total ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"+=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"length"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),"p",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(o.a)("span",r({parentName:"code"},{className:"token console class-name"}),"console"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"."),Object(o.a)("span",r({parentName:"code"},{className:"token method function property-access"}),"log"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),"total",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n")),Object(o.a)("pre",r({},{className:"language-cpp"}),Object(o.a)("code",r({parentName:"pre"},{className:"language-cpp"}),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token macro property"}),Object(o.a)("span",r({parentName:"span"},{className:"token directive-hash"}),"#"),Object(o.a)("span",r({parentName:"span"},{className:"token directive keyword"}),"include")," ",Object(o.a)("span",r({parentName:"span"},{className:"token string"}),"<cmath>")),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token macro property"}),Object(o.a)("span",r({parentName:"span"},{className:"token directive-hash"}),"#"),Object(o.a)("span",r({parentName:"span"},{className:"token directive keyword"}),"include")," ",Object(o.a)("span",r({parentName:"span"},{className:"token string"}),"<vector>")),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token macro property"}),Object(o.a)("span",r({parentName:"span"},{className:"token directive-hash"}),"#"),Object(o.a)("span",r({parentName:"span"},{className:"token directive keyword"}),"include")," ",Object(o.a)("span",r({parentName:"span"},{className:"token string"}),"<iostream>")),"\n\n",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"struct")," ",Object(o.a)("span",r({parentName:"code"},{className:"token class-name"}),"Point")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"int")," x",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"int")," y",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"float")," ",Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"length"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),"Point p",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"return")," std",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"::"),Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"hypot"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),"p",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"."),"x",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," p",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"."),"y",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"int")," ",Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"main"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"\n  std",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"::"),"vector",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"<"),"Point",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),">")," points ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"1"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"2")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," \n    ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"3"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"4")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," \n    ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"6"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"2")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," \n  ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"float")," total ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"0"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"for")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"auto")," p ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),":")," points",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"\n    total ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"+=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"length"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),"p",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n  std",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"::"),"cout ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"<<")," total ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"<<")," std",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"::"),"endl",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"return")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"0"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(o.a)("p",null,"Okay, so the C++ one is marginally longer, but think about what you get in return:"),Object(o.a)("ul",null,Object(o.a)("li",{parentName:"ul"},Object(o.a)("p",{parentName:"li"},"Strong type system and compile-time type checking")),Object(o.a)("li",{parentName:"ul"},Object(o.a)("p",{parentName:"li"},"No run-time dependency like Node.js")),Object(o.a)("li",{parentName:"ul"},Object(o.a)("p",{parentName:"li"},Object(o.a)("em",{parentName:"p"},"Fraction")," of the execution time"))),Object(o.a)("pre",null,Object(o.a)("code",r({parentName:"pre"},{}),"$ time node index.js \n34\n\nreal    0m0.035s\nuser    0m0.024s\nsys 0m0.012s\n\n\n$ time ./app\n34\n\nreal    0m0.001s\nuser    0m0.001s\nsys 0m0.000s\n")),Object(o.a)("h3",null,"C is a subset of C++"),Object(o.a)("p",null,"Whilst it is often possible to include C code in C++, this is not always the case. The following snippets are valid C, but not valid C++:"),Object(o.a)("pre",r({},{className:"language-cpp"}),Object(o.a)("code",r({parentName:"pre"},{className:"language-cpp"}),Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"int")," x",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"int")," x",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";")," ",Object(o.a)("span",r({parentName:"code"},{className:"token comment"}),"// error! x is already defined"),"\n")),Object(o.a)("pre",r({},{className:"language-cpp"}),Object(o.a)("code",r({parentName:"pre"},{className:"language-cpp"}),Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"int")," ",Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"b"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),"a",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"int")," a",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(o.a)("span",r({parentName:"code"},{className:"token comment"}),"// Error! "),"\n")),Object(o.a)("pre",r({},{className:"language-cpp"}),Object(o.a)("code",r({parentName:"pre"},{className:"language-cpp"}),Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"auto")," x",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";")," ",Object(o.a)("span",r({parentName:"code"},{className:"token comment"}),"// Error! x must be given a type"),"\n")),Object(o.a)("h3",null,"You need to know C in order to understand C++"),Object(o.a)("p",null,"C++ is its own language with its own idioms and best-practices. If you only learn C++ as an extension of C, then you will not learn these patterns and probably write error-prone code!"),Object(o.a)("pre",r({},{className:"language-cpp"}),Object(o.a)("code",r({parentName:"pre"},{className:"language-cpp"}),Object(o.a)("span",r({parentName:"code"},{className:"token comment"}),"// C style"),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"\n  Foo",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"*")," foo ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"new")," ",Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"Foo"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n  foo",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"->"),Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"bar"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"delete")," foo",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(o.a)("p",null,"Kate Gregory did an excellent talk about this that is well worth your time."),Object(o.a)("center",null,Object(o.a)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/O50qTuM5OT0",frameborder:"0",allowfullscreen:!0})),Object(o.a)("p",null,"How many developers have had a negative experience of C++ because they were taught to use it like C?"),Object(o.a)("h3",null,"C is faster than C++"),Object(o.a)("p",null,"C++ allows you to write abstractions that compile-down to equivalent C. This means that with some care, a C++ program will be at least as fast as a C one. The advantage C++ gives over C is that it enables us to also build reusable abstractions with templates, OOP and functional composition."),Object(o.a)("p",null,"C++ gives you the tools to encode your intentions in the type-system. This allows the compiler to generate optimal binaries from your code."),Object(o.a)("h3",null,"C++ is not cross-platform"),Object(o.a)("p",null,"C++ ",Object(o.a)("em",{parentName:"p"},"the language")," is completely cross-platform. The reason that many claim C++ is not is that the standard library does not provide that platform abstractions for filesystem, network access and so on that languages like Java do."),Object(o.a)("p",null,"Instead, C++ requires you to use a library, or write your own. This might seem painful (although much less so with a ",Object(o.a)("a",r({parentName:"p"},{href:"https://github.com/loopperfect/buckaroo"}),"package manager"),"!), but it is actually a good thing."),Object(o.a)("ol",null,Object(o.a)("li",{parentName:"ol"},Object(o.a)("p",{parentName:"li"},"To target a new platform, compiler implementers have less to implement.")),Object(o.a)("li",{parentName:"ol"},Object(o.a)("p",{parentName:"li"},"Platform targets with limited capabilities can support C++. What would happen if the standard required some feature that a platform cannot provide due to hardware limitations?")),Object(o.a)("li",{parentName:"ol"},Object(o.a)("p",{parentName:"li"},"You are free to choose the best library for your application. It is not one size fits all."))),Object(o.a)("h3",null,"apt-get is C++\u2019s package manager"),Object(o.a)("p",null,"We covered this is detail in a ",Object(o.a)("a",r({parentName:"p"},{href:"https://hackernoon.com/approaches-to-c-dependency-management-or-why-we-built-buckaroo-26049d4646e7"}),"previous article"),", but the short version is:"),Object(o.a)("ul",null,Object(o.a)("li",{parentName:"ul"},Object(o.a)("p",{parentName:"li"},"apt-get only works on Debian variants")),Object(o.a)("li",{parentName:"ul"},Object(o.a)("p",{parentName:"li"},"apt-get mutates your system, which is inconvenient when switching between projects")),Object(o.a)("li",{parentName:"ul"},Object(o.a)("p",{parentName:"li"},"apt-get is not a good source for new and experimental versions of libraries"))),Object(o.a)("h3",null,"C++ is all about classes"),Object(o.a)("p",null,"In the early days, the big difference between C and C++ was that C++ provides classes. This is still true, but classes are no longer the dominant feature of C++. In modern C++, the focus is on RAII patterns. C++ is not really about classes, it is about deterministic resource management."),Object(o.a)("h3",null,"Garbage collection is mandatory for reliable software, thus C++ is bad for large projects"),Object(o.a)("p",null,"The C++ approach to resource management (of which memory is just one kind) is to use RAII patterns rather than a centralized garbage collector."),Object(o.a)("p",null,"This is a bit like the \u201cusing\u201d pattern seen in other languages. For instance, in C# we might write:"),Object(o.a)("pre",r({},{className:"language-csharp"}),Object(o.a)("code",r({parentName:"pre"},{className:"language-csharp"}),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"using")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token class-name"}),Object(o.a)("span",r({parentName:"span"},{className:"token keyword"}),"var"))," myRes ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"new")," ",Object(o.a)("span",r({parentName:"code"},{className:"token constructor-invocation class-name"}),"MyResource"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")"),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"\n  myRes",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"."),Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"DoSomething"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(o.a)("p",null,"In C++, the disposal should be done by the ",Object(o.a)("em",{parentName:"p"},"destructor"),":"),Object(o.a)("pre",r({},{className:"language-cpp"}),Object(o.a)("code",r({parentName:"pre"},{className:"language-cpp"}),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"auto")," myRes ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," std",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"::"),"make_unique",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"<"),"MyResource",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),">"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n \n  myRes",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"->"),Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"DoSomething"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}")," ",Object(o.a)("span",r({parentName:"code"},{className:"token comment"}),"// myRes is cleaned up"),"\n")),Object(o.a)("p",null,"Notice that this is actually less verbose; plus, we can use the same pattern for memory ",Object(o.a)("em",{parentName:"p"},"and")," other resources."),Object(o.a)("p",null,"But there is another advantage: the order and timing of object disposal is determined by the scope in which they are used. This makes it possible to control the garbage collection process at a function-level, whereas most garbage-collected languages only allow (",Object(o.a)("em",{parentName:"p"},"limited"),") control at a global level."),Object(o.a)("p",null,"This is an even greater benefit in large projects, since it prevents one module from introducing garbage-collection latency into another. This is the reason C++ is the language of choice for game development and audio processing."),Object(o.a)("h3",null,"For performance, you must write low-level code"),Object(o.a)("p",null,"The C++ compilers do an amazing job of optimizing high-level code. This allows you to avoid writing at a low-level, whilst still getting great performance. Sometimes the performance is even better, since the compiler can perform optimizations that would be too tricky to write by hand."),Object(o.a)("p",null,"Our favourite example of this is using ",Object(o.a)("a",r({parentName:"p"},{href:"https://github.com/LoopPerfect/conduit"}),"Conduit"),", our new C++ sequence library. This program computes the sum of various Fibonacci numbers using lambdas, coroutines and so on:"),Object(o.a)("pre",r({},{className:"language-cpp"}),Object(o.a)("code",r({parentName:"pre"},{className:"language-cpp"}),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"auto")," fibonacci ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"["),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"]"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"->")," seq",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"<"),Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"unsigned")," ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"long")," ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"long"),Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),">")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"auto")," a ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"0ll"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";")," \n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"auto")," b ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"1ll"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n  \n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"while")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token boolean"}),"true"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"co_yield")," a",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n    \n    ",Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"tie"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),"a",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," b",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," tuple",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"a ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"+")," b",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),",")," a",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"static")," ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"long")," N ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"50"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"int")," ",Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"main"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"auto")," n ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," N",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"auto")," items ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"fibonacci"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")")," \n    ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),">>")," ",Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"drop"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),"n ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"-")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"10"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")"),"\n    ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),">>")," ",Object(o.a)("span",r({parentName:"code"},{className:"token function"}),"take"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),"n",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"unsigned")," ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"long")," ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"long")," result ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"0"),Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n  \n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"for")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"("),Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"auto")," x ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),":")," items",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"{"),"\n    result ",Object(o.a)("span",r({parentName:"code"},{className:"token operator"}),"+=")," x",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),"\n  \n  ",Object(o.a)("span",r({parentName:"code"},{className:"token keyword"}),"return")," result",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(o.a)("span",r({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(o.a)("p",null,"And yet it compiles to just:"),Object(o.a)("pre",r({},{className:"language-nasm"}),Object(o.a)("code",r({parentName:"pre"},{className:"language-nasm"}),Object(o.a)("span",r({parentName:"code"},{className:"token label function"}),"main:")," # @main\n  mov ",Object(o.a)("span",r({parentName:"code"},{className:"token register variable"}),"eax"),", ",Object(o.a)("span",r({parentName:"code"},{className:"token number"}),"511172301"),"\n  ret\n")),Object(o.a)("p",null,"This means the optimizer was able to compute 60 Fibonacci numbers and sum the last 50 at compile-time!"),Object(o.a)("h2",null,"Since You\u2019re Here\u2026"),Object(o.a)("p",null,"We recently announced ",Object(o.a)("a",r({parentName:"p"},{href:"https://buildinfer.loopperfect.com/"}),"BuildInfer"),", a new tool to optimize your C/C++ build scripts. ",Object(o.a)("a",r({parentName:"p"},{href:"https://buildinfer.loopperfect.com/"}),"Take a look"),"!"),Object(o.a)("p",null,Object(o.a)("img",r({parentName:"p"},{src:"https://cdn-images-1.medium.com/max/2000/1*YZgG5MjrKJ9nV_a7bJtHuA.png",alt:null}))))}u.isMDXComponent=!0},XMzX:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/common-misconceptions-of-c",function(){return t("12jL")}])}},[["XMzX",0,2,1,3,4]]]);