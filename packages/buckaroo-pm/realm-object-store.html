<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"/><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/a0584ae5515792e72ab5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a0584ae5515792e72ab5.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-7d1613afc8c8f43cb50f.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-95c2b224bccf352ee870.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.ae3781fe50e43492a499.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.9b549cceddc4472f1953.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-3e4ffec4bbf3a45ef50f.js" as="script"/><link rel="preload" href="/_next/static/chunks/c18d713dde5d8f274a9340ae8a63196292880c5e.7af0c42e7b17c91d2be5.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/packages/%5Bowner%5D/%5Bname%5D-bc25a6cf0982fd349b0a.js" as="script"/></head><body><div id="__next"><div class="site"><div class="navigation"><div class="view row space-between"><div class="links"><a class="buckaroo" href="/">Buckaroo</a><a href="https://github.com/LoopPerfect/buckaroo/wiki" target="_blank">Docs</a><a href="/blog">Blog</a></div><div class="search"><input placeholder="search for a module..." value=""/><button class="fa fa-search fa-large"></button></div><iframe id="star-button" src="https://ghbtns.com/github-btn.html?user=LoopPerfect&amp;repo=buckaroo&amp;type=star&amp;count=true&amp;size=large" frameBorder="0" scrolling="0" width="160px" height="30px"></iframe></div></div><div></div><div class="banner"><div style="display:flex"><div class="package"><img src="/packages/buckaroo-pm/realm-object-store/logo.png"/></div><div><h1>buckaroo-pm/realm-object-store</h1><div style="max-width:600px">Cross-platform abstractions used within Realm products</div><br/><div><b>114</b></div></div></div><div style="display:inline-flex;flex-flow:row wrap"></div></div><div style="display:flex;width:100%;justify-content:center;margin-top:-2.7em"><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:white;color:black;border:solid 1px #fff">ReadMe</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Buck</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Manifest</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">LockFile</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Dependencies</div></div><div class="banner white"><div class="view column"><h2>ReadMe</h2><h1>Realm Object Store</h1><p>The object store contains cross-platform abstractions used in Realm products. It is not intended to be used directly.</p><p>The object store consists of the following components:</p><ul><li><code>object_store</code>/<code>schema</code>/<code>object_schema</code>/<code>property</code> - contains the structures and logic used to setup and modify Realm files and their schema.</li><li><code>shared_realm</code> - wraps the <code>object_store</code> APIs to provide transactions, notifications, Realm caching, migrations, and other higher level functionality.</li><li><code>object_accessor</code>/<code>results</code>/<code>list</code> - accessor classes, object creation/update pipeline, and helpers for creating platform specific property getters and setters.</li></ul><p>Each Realm product may use only a subset of the provided components depending on its needs.</p><h2>Reporting Bugs</h2><p>Please report bugs against the Realm product that you&#x27;re using:</p><ul><li><a href="https://github.com/realm/realm-java">Realm Java</a></li><li><a href="https://github.com/realm/realm-cocoa">Realm Objective-C</a></li><li><a href="https://github.com/realm/realm-js">Realm React Native</a></li><li><a href="https://github.com/realm/realm-cocoa">Realm Swift</a></li><li><a href="https://github.com/realm/realm-dotnet">Realm Xamarin</a></li></ul><h2>Supported Platforms</h2><p>The object store&#x27;s CMake build system currently only supports building for OS X, Linux, and Android.</p><p>The object store code supports being built for all Apple platforms, Linux and Android when used along with the relevant Realm product&#x27;s build system.</p><h2>Building</h2><ol><li><p>Download dependencies:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>git submodule update --init</span></code></pre></li><li><p>Install CMake. You can download an installer for OS X from the <a href="https://cmake.org/download/">CMake download page</a>, or install via <a href="http://brew.sh">Homebrew</a>:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>brew install cmake</span></code></pre></li><li><p>Generate build files:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>cmake .</span></code></pre><p>If building for Android, the path for the Android NDK must be specified. For example, if it was installed with homebrew:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>cmake -DREALM_PLATFORM=Android -DANDROID_NDK=/usr/local/Cellar/android-ndk-r10e/r10e/ .</span></code></pre><p>If you want to use XCode as your editor, you can generate a XCode project with:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>cmake -G Xcode .</span></code></pre></li><li><p>Build:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>make</span></code></pre></li></ol><h2>Building With Sync Support</h2><p>If you wish to build with sync enabled, invoke <code>cmake</code> like so:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>cmake -DREALM_ENABLE_SYNC=1</span></code></pre><h3>Building Against a Local Version of Core</h3><p>If you wish to build against a local version of core you can invoke <code>cmake</code> like so:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>cmake -DREALM_CORE_PREFIX=/path/to/realm-core</span></code></pre><p>The given core tree will be built as part of the object store build.</p><h3>Building Against a Local Version of Sync</h3><p>Specify the path to realm-core and realm-sync when invoking <code>cmake</code>:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>cmake -DREALM_ENABLE_SYNC=1 -DREALM_CORE_PREFIX=/path/to/realm-core -DREALM_SYNC_PREFIX=/path/to/realm-sync</span></code></pre><p>Prebuilt sync binaries are currently not supported.</p><h3>Building with Sanitizers</h3><p>The object store can be built using ASan, TSan and/or UBSan by specifying <code>-DSANITIZE_ADDRESS=1</code>, <code>-DSANITIZE_THREAD=1</code>, or <code>-DSANITIZE_UNDEFINED=1</code> when invoking CMake.
Building with ASan requires specifying a path to core with <code>-DREALM_CORE_PREFIX</code> as core needs to also be built with ASan enabled.</p><p>On OS X, the Xcode-provided copy of Clang only comes with ASan, and using TSan or UBSan requires a custom build of Clang.
If you have installed Clang as an external Xcode toolchain (using the <code>install-xcode-toolchain</code> when building LLVM), note that you&#x27;ll have to specify <code>-DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++</code> when running <code>cmake</code> to stop cmake from being too clever.</p><h2>Testing</h2><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>make run-tests</span></code></pre><h3>Android</h3><p>It requires a root device or an emulator:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>make
</span>adb push tests/tests /data/local/tmp
<!-- -->adb shell /data/local/tmp/tests
</code></pre><h2>Using Docker</h2><p>The <code>Dockerfile</code> included in this repo will provision a Docker image suitable
for building and running tests for both the Linux and Android platforms.</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span># Build Docker image from Dockerfile
</span>docker build -t &quot;objectstore&quot; .
<!-- --># Run bash interactively from the built Docker image,
<!-- --># mounting the current directory
<!-- -->docker run --rm -it -v $(pwd):/tmp -w /tmp objectstore bash
<!-- --># Build the object store for Linux and run tests
<!-- -->&gt; cmake .
<!-- -->&gt; make
<!-- -->&gt; make run-tests
</code></pre><p>Refer to the rest of this document for instructions to build/test in other
configurations.</p><h2>License</h2><p>Realm Object Store is published under the Apache 2.0 license. The <a href="https://github.com/realm/realm-core">underlying core</a> is also published under the Apache 2.0 license.</p><p><strong>This product is not being made available to any person located in Cuba, Iran,
North Korea, Sudan, Syria or the Crimea region, or to any other person that is
not eligible to receive the product under U.S. law.</strong></p><p><img src="https://ga-beacon.appspot.com/UA-50247013-2/realm-object-store/README?pixel" alt="analytics"/></p></div></div><div class="banner footer"><div class="view column"><div class="actions"><div class="links"><a href="/">Buckaroo</a><a href="https://github.com/LoopPerfect/buckaroo/wiki" target="_blank">Docs</a><a href="https://github.com/LoopPerfect/buckaroo" target="_blank">GitHub</a></div><div class="signup"><h1 class="action">Sign up for our Newsletter</h1><div class="info">Get the latest updates about new packages and Buckaroo releases.</div><button>Sign Up</button></div></div><div class="powered"><img src="/LoopPerfectInvertSmall.png"/><span>Powered by LoopPerfect</span></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"packageName":"buckaroo-pm/realm-object-store","name":"realm/realm-object-store","licence":"Apache-2.0","description":"Cross-platform abstractions used within Realm products","readme":"# Realm Object Store\n\nThe object store contains cross-platform abstractions used in Realm products. It is not intended to be used directly.\n\nThe object store consists of the following components:\n- `object_store`/`schema`/`object_schema`/`property` - contains the structures and logic used to setup and modify Realm files and their schema.\n- `shared_realm` - wraps the `object_store` APIs to provide transactions, notifications, Realm caching, migrations, and other higher level functionality.\n- `object_accessor`/`results`/`list` - accessor classes, object creation/update pipeline, and helpers for creating platform specific property getters and setters.\n\nEach Realm product may use only a subset of the provided components depending on its needs.\n\n## Reporting Bugs\n\nPlease report bugs against the Realm product that you're using:\n\n* [Realm Java](https://github.com/realm/realm-java)\n* [Realm Objective-C](https://github.com/realm/realm-cocoa)\n* [Realm React Native](https://github.com/realm/realm-js)\n* [Realm Swift](https://github.com/realm/realm-cocoa)\n* [Realm Xamarin](https://github.com/realm/realm-dotnet)\n\n## Supported Platforms\n\nThe object store's CMake build system currently only supports building for OS X, Linux, and Android.\n\nThe object store code supports being built for all Apple platforms, Linux and Android when used along with the relevant Realm product's build system.\n\n## Building\n\n1. Download dependencies:\n    ```\n    git submodule update --init\n    ```\n\n2. Install CMake. You can download an installer for OS X from the [CMake download page](https://cmake.org/download/), or install via [Homebrew](http://brew.sh):\n    ```\n    brew install cmake\n    ```\n\n3. Generate build files:\n\n    ```\n    cmake .\n    ```\n\n    If building for Android, the path for the Android NDK must be specified. For example, if it was installed with homebrew:\n\n    ```\n    cmake -DREALM_PLATFORM=Android -DANDROID_NDK=/usr/local/Cellar/android-ndk-r10e/r10e/ .\n    ```\n\n    If you want to use XCode as your editor, you can generate a XCode project with:\n    ```\n    cmake -G Xcode .\n    ```\n\n4. Build:\n\n    ```\n    make\n    ```\n\n## Building With Sync Support\n\nIf you wish to build with sync enabled, invoke `cmake` like so:\n\n```\ncmake -DREALM_ENABLE_SYNC=1\n```\n\n### Building Against a Local Version of Core\n\nIf you wish to build against a local version of core you can invoke `cmake` like so:\n\n```\ncmake -DREALM_CORE_PREFIX=/path/to/realm-core\n```\n\nThe given core tree will be built as part of the object store build.\n\n### Building Against a Local Version of Sync\n\nSpecify the path to realm-core and realm-sync when invoking `cmake`:\n\n```\ncmake -DREALM_ENABLE_SYNC=1 -DREALM_CORE_PREFIX=/path/to/realm-core -DREALM_SYNC_PREFIX=/path/to/realm-sync\n```\n\nPrebuilt sync binaries are currently not supported.\n\n### Building with Sanitizers\n\nThe object store can be built using ASan, TSan and/or UBSan by specifying `-DSANITIZE_ADDRESS=1`, `-DSANITIZE_THREAD=1`, or `-DSANITIZE_UNDEFINED=1` when invoking CMake.\nBuilding with ASan requires specifying a path to core with `-DREALM_CORE_PREFIX` as core needs to also be built with ASan enabled.\n\nOn OS X, the Xcode-provided copy of Clang only comes with ASan, and using TSan or UBSan requires a custom build of Clang.\nIf you have installed Clang as an external Xcode toolchain (using the `install-xcode-toolchain` when building LLVM), note that you'll have to specify `-DCMAKE_C_COMPILER=clang -DCMAKE_CXX_COMPILER=clang++` when running `cmake` to stop cmake from being too clever.\n\n## Testing\n\n```\nmake run-tests\n```\n\n### Android\n\nIt requires a root device or an emulator:\n\n```\nmake\nadb push tests/tests /data/local/tmp\nadb shell /data/local/tmp/tests\n```\n\n## Using Docker\n\nThe `Dockerfile` included in this repo will provision a Docker image suitable\nfor building and running tests for both the Linux and Android platforms.\n\n```\n# Build Docker image from Dockerfile\ndocker build -t \"objectstore\" .\n# Run bash interactively from the built Docker image,\n# mounting the current directory\ndocker run --rm -it -v $(pwd):/tmp -w /tmp objectstore bash\n# Build the object store for Linux and run tests\n\u003e cmake .\n\u003e make\n\u003e make run-tests\n```\n\nRefer to the rest of this document for instructions to build/test in other\nconfigurations.\n\n## License\n\nRealm Object Store is published under the Apache 2.0 license. The [underlying core](https://github.com/realm/realm-core) is also published under the Apache 2.0 license.\n\n**This product is not being made available to any person located in Cuba, Iran,\nNorth Korea, Sudan, Syria or the Crimea region, or to any other person that is\nnot eligible to receive the product under U.S. law.**\n\n![analytics](https://ga-beacon.appspot.com/UA-50247013-2/realm-object-store/README?pixel)\n","versions":[{"ref":"master","manifest":"targets = [ \"//:object-store\" ]\n\n[[dependency]]\npackage = \"github.com/buckaroo-pm/host-core-foundation\"\nversion = \"*\"\n\n[[dependency]]\npackage = \"github.com/buckaroo-pm/host-security\"\nversion = \"*\"\n\n[[dependency]]\npackage = \"github.com/buckaroo-pm/madler-zlib\"\nversion = \"*\"\n\n[[dependency]]\npackage = \"github.com/buckaroo-pm/realm-core\"\nversion = \"branch=master\"\n\n[[dependency]]\npackage = \"github.com/buckaroo-pm/realm-sync-cocoa\"\nversion = \"*\"\n","lockFile":"manifest = \"b93b4ee67fede15760ee58379f96f7e589f3de0523db4b8ba060d8c8c3b0c2e0\"\n\n[[dependency]]\npackage = \"github.com/buckaroo-pm/host-core-foundation\"\ntarget = \"//:core-foundation\"\n\n[[dependency]]\npackage = \"github.com/buckaroo-pm/host-security\"\ntarget = \"//:security\"\n\n[[dependency]]\npackage = \"github.com/buckaroo-pm/madler-zlib\"\ntarget = \"//:zlib\"\n\n[[dependency]]\npackage = \"github.com/buckaroo-pm/realm-core\"\ntarget = \"//:realm-core\"\n\n[[dependency]]\npackage = \"github.com/buckaroo-pm/realm-sync-cocoa\"\ntarget = \"//:realm\"\n\n[[dependency]]\npackage = \"github.com/buckaroo-pm/realm-sync-cocoa\"\ntarget = \"//:realm-parser\"\n\n[lock.\"github.com/buckaroo-pm/host-core-foundation\"]\nversions = [ \"branch=master\" ]\nrevision = \"fd7081ffe1244afb86c41c2d41d3603f851feae8\"\n\n[lock.\"github.com/buckaroo-pm/host-security\"]\nversions = [ \"branch=master\" ]\nrevision = \"f7aba7ed43bd385648cb550128ce69800172343c\"\n\n[lock.\"github.com/buckaroo-pm/madler-zlib\"]\nversions = [ \"1.2.11\" ]\nrevision = \"cbbc5ea260a454509d0f461de248b8e0b67bc839\"\n\n[lock.\"github.com/buckaroo-pm/realm-core\"]\nversions = [ \"branch=master\" ]\nrevision = \"9849b5ac551a653ec0d541a7c13129c9b9de1bd3\"\n\n[lock.\"github.com/buckaroo-pm/realm-sync-cocoa\"]\nversions = [ \"3.14.12\" ]\nrevision = \"bcfadb6c672da4a064734f802601fb1f89a8dbac\"\n\n[lock.\"github.com/buckaroo-pm/taocpp-pegtl\"]\nversions = [ \"2.7.1\" ]\nrevision = \"539160b1344b901187f282a52a90ce1b69d84e0f\"\n","buck":"load('//:subdir_glob.bzl', 'subdir_glob')\nload('//:buckaroo_macros.bzl', 'buckaroo_deps_from_package')\n\nrealm_core = \\\n  buckaroo_deps_from_package('github.com/buckaroo-pm/realm-core')\n\nzlib = \\\n  buckaroo_deps_from_package('github.com/buckaroo-pm/madler-zlib')\n\nrealm_sync_cocoa = \\\n  buckaroo_deps_from_package('github.com/buckaroo-pm/realm-sync-cocoa')\n\ncore_foundation = \\\n  buckaroo_deps_from_package('github.com/buckaroo-pm/host-core-foundation')\n\nsecurity = \\\n  buckaroo_deps_from_package('github.com/buckaroo-pm/host-security')\n\nmacos_srcs = glob([\n  'src/impl/apple/**/*.cpp',\n  'src/util/apple/**/*.cpp',\n  'src/sync/impl/apple/**/*.cpp',\n])\n\niphone_srcs = glob([\n  'src/impl/apple/**/*.cpp',\n  'src/util/apple/**/*.cpp',\n  'src/sync/impl/apple/**/*.cpp',\n])\n\nlinux_srcs = glob([\n  'src/impl/epoll/**/*.cpp',\n])\n\nwindows_srcs = glob([\n  'src/impl/windows/**/*.cpp',\n])\n\ncxx_library(\n  name = 'object-store',\n  header_namespace = '',\n  exported_headers = subdir_glob([\n    ('src', '**/*.hpp'),\n  ]),\n  srcs = glob([\n    'src/*.cpp',\n    'src/impl/*.cpp',\n    'src/util/*.cpp',\n    'src/sync/*.cpp',\n    'src/sync/impl/*.cpp',\n  ]),\n  platform_srcs = [\n    ('iphone.*', iphone_srcs),\n    ('macos.*', macos_srcs),\n    ('linux.*', linux_srcs),\n    ('windows.*', windows_srcs),\n  ],\n  preprocessor_flags = [\n    '-DREALM_ENABLE_SYNC=1',\n  ],\n  deps = realm_core + zlib,\n  platform_deps = [\n    ('iphoneos.*', core_foundation + security + realm_sync_cocoa),\n    ('macos.*', core_foundation + security + realm_sync_cocoa),\n  ],\n  visibility = [\n    'PUBLIC',\n  ],\n)\n","bazel":"","deps":[{"uri":"github.com/buckaroo-pm/host-core-foundation","name":"buckaroo-pm/host-core-foundation","version":"*"},{"uri":"github.com/buckaroo-pm/host-security","name":"buckaroo-pm/host-security","version":"*"},{"uri":"github.com/buckaroo-pm/madler-zlib","name":"buckaroo-pm/madler-zlib","version":"*"},{"uri":"github.com/buckaroo-pm/realm-core","name":"buckaroo-pm/realm-core","version":"branch=master"},{"uri":"github.com/buckaroo-pm/realm-sync-cocoa","name":"buckaroo-pm/realm-sync-cocoa","version":"*"}],"lock":[{"uri":"github.com/buckaroo-pm/host-core-foundation","name":"buckaroo-pm/host-core-foundation","spec":{"versions":["branch=master"],"revision":"fd7081ffe1244afb86c41c2d41d3603f851feae8"}},{"uri":"github.com/buckaroo-pm/host-security","name":"buckaroo-pm/host-security","spec":{"versions":["branch=master"],"revision":"f7aba7ed43bd385648cb550128ce69800172343c"}},{"uri":"github.com/buckaroo-pm/madler-zlib","name":"buckaroo-pm/madler-zlib","spec":{"versions":["1.2.11"],"revision":"cbbc5ea260a454509d0f461de248b8e0b67bc839"}},{"uri":"github.com/buckaroo-pm/realm-core","name":"buckaroo-pm/realm-core","spec":{"versions":["branch=master"],"revision":"9849b5ac551a653ec0d541a7c13129c9b9de1bd3"}},{"uri":"github.com/buckaroo-pm/realm-sync-cocoa","name":"buckaroo-pm/realm-sync-cocoa","spec":{"versions":["3.14.12"],"revision":"bcfadb6c672da4a064734f802601fb1f89a8dbac"}},{"uri":"github.com/buckaroo-pm/taocpp-pegtl","name":"buckaroo-pm/taocpp-pegtl","spec":{"versions":["2.7.1"],"revision":"539160b1344b901187f282a52a90ce1b69d84e0f"}}]}],"updated":"2019-02-22T00:18:53Z","updatedUpstream":"2020-12-17T18:39:40Z","contributors":[{"login":"stennie","avatarUrl":"https://avatars2.githubusercontent.com/u/15554?u=d3b7751ba769c90f6e4a0655ed884010c624c31e\u0026v=4"},{"login":"simonask","avatarUrl":"https://avatars1.githubusercontent.com/u/23115?u=76ba675fb08a1ae04b537b99f8805ae1835188d3\u0026v=4"},{"login":"kishikawakatsumi","avatarUrl":"https://avatars0.githubusercontent.com/u/40610?u=cabf5e7f214ecac0efcd3fbf04ff773ad45d5ed7\u0026v=4"},{"login":"bdash","avatarUrl":"https://avatars3.githubusercontent.com/u/54825?v=4"},{"login":"astigsen","avatarUrl":"https://avatars3.githubusercontent.com/u/69422?v=4"},{"login":"appden","avatarUrl":"https://avatars0.githubusercontent.com/u/70904?v=4"},{"login":"mpobrien","avatarUrl":"https://avatars1.githubusercontent.com/u/96535?u=a8ed1c6f7d40ca378b74e9aad861133fe4efaea1\u0026v=4"},{"login":"RedBeard0531","avatarUrl":"https://avatars3.githubusercontent.com/u/118456?v=4"},{"login":"alebsack","avatarUrl":"https://avatars3.githubusercontent.com/u/137382?u=371be0f6ec2d7cff48e85f9dd87ab1a2f0086b5e\u0026v=4"},{"login":"kspangsege","avatarUrl":"https://avatars2.githubusercontent.com/u/180705?u=e3b19b7b40bfb56dd18376be6d4b7f31fc6110c0\u0026v=4"},{"login":"jbreams","avatarUrl":"https://avatars2.githubusercontent.com/u/191185?u=5a0d588805cdecf95a229701b7bf55067b002033\u0026v=4"},{"login":"alazier","avatarUrl":"https://avatars2.githubusercontent.com/u/250144?u=c095e22fd0ff6bebd5a30c222012cd70827884a1\u0026v=4"},{"login":"fealebenpae","avatarUrl":"https://avatars3.githubusercontent.com/u/289915?v=4"},{"login":"mbroadst","avatarUrl":"https://avatars1.githubusercontent.com/u/312966?u=ec9525d92299febb4e4124be1ea24f7e3e506602\u0026v=4"},{"login":"cmelchior","avatarUrl":"https://avatars0.githubusercontent.com/u/406066?u=b6a7d3ae2c5d6be3e83fd6ba3ff090ec171eb55d\u0026v=4"},{"login":"zaki50","avatarUrl":"https://avatars1.githubusercontent.com/u/406660?u=e2ff2523244514209b80fcbe74f19b992fceee6f\u0026v=4"},{"login":"tgoyne","avatarUrl":"https://avatars1.githubusercontent.com/u/408944?v=4"},{"login":"TimOliver","avatarUrl":"https://avatars3.githubusercontent.com/u/429119?u=98d2e07b76dcb3afdd5786b1e8fa102f2c125f01\u0026v=4"},{"login":"stel","avatarUrl":"https://avatars1.githubusercontent.com/u/429275?v=4"},{"login":"beeender","avatarUrl":"https://avatars3.githubusercontent.com/u/449296?v=4"},{"login":"emanuelez","avatarUrl":"https://avatars0.githubusercontent.com/u/473050?v=4"},{"login":"jpsim","avatarUrl":"https://avatars1.githubusercontent.com/u/474794?u=c9c27581b9b8e685636bba838fcae5bceb8f86d2\u0026v=4"},{"login":"monkey101","avatarUrl":"https://avatars3.githubusercontent.com/u/479524?v=4"},{"login":"IanWhalen","avatarUrl":"https://avatars2.githubusercontent.com/u/482962?v=4"},{"login":"jedelbo","avatarUrl":"https://avatars1.githubusercontent.com/u/572755?u=9efa2b66f5f411bc68241611fd90749d0d2b9b5f\u0026v=4"}],"fundingLinks":[],"contactLinks":[],"stars":114,"forks":34,"topics":[]}},"__N_SSG":true},"page":"/packages/[owner]/[name]","query":{"owner":"buckaroo-pm","name":"realm-object-store"},"buildId":"XEnVUsOG7VkTdg59Wro6f","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-617a3a2c770be2525c7f.js"></script><script src="/_next/static/chunks/main-7d1613afc8c8f43cb50f.js" async=""></script><script src="/_next/static/chunks/webpack-95c2b224bccf352ee870.js" async=""></script><script src="/_next/static/chunks/framework.ae3781fe50e43492a499.js" async=""></script><script src="/_next/static/chunks/commons.9b549cceddc4472f1953.js" async=""></script><script src="/_next/static/chunks/pages/_app-3e4ffec4bbf3a45ef50f.js" async=""></script><script src="/_next/static/chunks/c18d713dde5d8f274a9340ae8a63196292880c5e.7af0c42e7b17c91d2be5.js" async=""></script><script src="/_next/static/chunks/pages/packages/%5Bowner%5D/%5Bname%5D-bc25a6cf0982fd349b0a.js" async=""></script><script src="/_next/static/XEnVUsOG7VkTdg59Wro6f/_buildManifest.js" async=""></script><script src="/_next/static/XEnVUsOG7VkTdg59Wro6f/_ssgManifest.js" async=""></script></body></html>