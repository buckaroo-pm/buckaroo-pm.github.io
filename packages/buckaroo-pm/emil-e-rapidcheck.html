<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"/><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/a0584ae5515792e72ab5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a0584ae5515792e72ab5.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-7d1613afc8c8f43cb50f.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-95c2b224bccf352ee870.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.ae3781fe50e43492a499.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.9b549cceddc4472f1953.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-3e4ffec4bbf3a45ef50f.js" as="script"/><link rel="preload" href="/_next/static/chunks/c18d713dde5d8f274a9340ae8a63196292880c5e.7af0c42e7b17c91d2be5.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/packages/%5Bowner%5D/%5Bname%5D-bc25a6cf0982fd349b0a.js" as="script"/></head><body><div id="__next"><div class="site"><div class="navigation"><div class="view row space-between"><div class="links"><a class="buckaroo" href="/">Buckaroo</a><a href="https://github.com/LoopPerfect/buckaroo/wiki" target="_blank">Docs</a><a href="/blog">Blog</a></div><div class="search"><input placeholder="search for a module..." value=""/><button class="fa fa-search fa-large"></button></div><iframe id="star-button" src="https://ghbtns.com/github-btn.html?user=LoopPerfect&amp;repo=buckaroo&amp;type=star&amp;count=true&amp;size=large" frameBorder="0" scrolling="0" width="160px" height="30px"></iframe></div></div><div></div><div class="banner"><div style="display:flex"><div class="package"><img src="/packages/buckaroo-pm/emil-e-rapidcheck/logo.png"/></div><div><h1>buckaroo-pm/emil-e-rapidcheck</h1><div style="max-width:600px">QuickCheck clone for C++ with the goal of being simple to use with as little boilerplate as possible.</div><br/><div><b>703</b></div></div></div><div style="display:inline-flex;flex-flow:row wrap"></div></div><div style="display:flex;width:100%;justify-content:center;margin-top:-2.7em"><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:white;color:black;border:solid 1px #fff">ReadMe</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Buck</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Manifest</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Dependencies</div></div><div class="banner white"><div class="view column"><h2>ReadMe</h2><h1>RapidCheck <a href="https://travis-ci.org/emil-e/rapidcheck"><img src="https://travis-ci.org/emil-e/rapidcheck.svg?branch=master" alt="Build Status"/></a> <a href="https://ci.appveyor.com/project/emil-e/rapidcheck/branch/master"><img src="https://ci.appveyor.com/api/projects/status/8hms56ghn27agpcj/branch/master?svg=true" alt="Build status"/></a></h1><p>RapidCheck is a C++ framework for property based testing inspired by QuickCheck and other similar frameworks. In property based testing, you state facts about your code that given certain precondition should always be true. RapidCheck then generates random test data to try and find a case for which the property doesn&#x27;t hold. If such a case is found, RapidCheck tries to find the smallest case (for some definition of smallest) for which the property is still false and then displays this as a counterexample. For example, if the input is an integer, RapidCheck tries to find the smallest integer for which the property is false.</p><p>Sounds interesting? Why don&#x27;t you read the <strong><a href="doc/user_guide.md">User Guide</a></strong> to learn more!</p><h2>Why RapidCheck?</h2><p>There are existing implementations of property based testing but the ones that I have found are either (in my humble opinion) a bit clunky or are missing essential features such as test case shrinking.</p><p>Let&#x27;s throw together a list of features:</p><ul><li>Write your properties in an imperative way that makes sense for C++</li><li>Test case shrinking</li><li>Great support for STL types, including maps and sets</li><li>Advanced combinators for creating your own generators</li><li>Stateful based on commands in the vein of Erlang QuickCheck</li><li>Integration with popular testing frameworks such as Boost Test, Google Test and Google Mock</li></ul><h2>Prerequisites and installation</h2><p>RapidCheck makes extensive use of C++11 and thus requires a compliant compiler. RapidCheck continuous integration builds using Clang 3.5, GCC 4.9 and Visual Studio 2015 so any later versions should also work.</p><p>RapidCheck uses CMake and is built like any other CMake project. If your own project uses CMake you can simply have RapidCheck as a subdirectory and add the following to your <code>CMakeLists.txt</code>:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>add_subdirectory(&quot;path/to/rapidcheck&quot;)
</span>target_link_libraries(my_target rapidcheck)
</code></pre><p>This will give you both linking and include directories.</p><h2>Quick introduction</h2><p>A common first example is testing a reversal function. For such a function, double reversal should always result in the original list. In this example we will use the standard C++ <code>std::reverse</code> function:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-C++" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>#include &lt;rapidcheck.h&gt;
</span>
<!-- -->#include &lt;vector&gt;
<!-- -->#include &lt;algorithm&gt;
<!-- -->
<!-- -->int main() {
<!-- -->  rc::check(&quot;double reversal yields the original value&quot;,
<!-- -->            [](const std::vector&lt;int&gt; &amp;l0) {
<!-- -->              auto l1 = l0;
<!-- -->              std::reverse(begin(l1), end(l1));
<!-- -->              std::reverse(begin(l1), end(l1));
<!-- -->              RC_ASSERT(l0 == l1);
<!-- -->            });
<!-- -->
<!-- -->  return 0;
<!-- -->}
</code></pre><p>The <code>check</code> function is used to check properties. The first parameter is an optional string which describes the property. The second parameter is a callable object that implements the property, in this case a lambda. Any parameters to the callable (in our case the <code>l0</code> parameter) will be randomly generated. The <code>RC_ASSERT</code> macro works just like any other assert macro. If the given condition is false, the property has been falsified.</p><p>The property above also forms part of a specification of the reversal function: &quot;For any list of integers A, reversing and then reversing again should result in A&quot;.</p><p>If we were to run this, RapidCheck would (hopefully) output the following:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-text" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>Using configuration: seed=9928307433081493900
</span>
<!-- -->- double reversal yields the original value
<!-- -->OK, passed 100 tests
</code></pre><p>Here, RapidCheck tells us that it ran 100 test cases and all of them passed. It also tells us the configuration that was used, in particular the random seed. If there was a bug in the implementation of <code>std::reverse</code> we could get the following output instead:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-text" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>Falsifiable after 12 tests and 10 shrinks
</span>
<!-- -->std::tuple&lt;std::vector&lt;int&gt;&gt;:
<!-- -->([1, 0, 0, 0, 0, 0, 0, 0, 0, 0])
<!-- -->
<!-- -->main.cpp:17:
<!-- -->RC_ASSERT(l0 == l1)
<!-- -->
<!-- -->Expands to:
<!-- -->[1, 0, 0, 0, 0, 0, 0, 0, 0, 0] == [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
</code></pre><p>Here RapidCheck tells us that it found a case for which the property does not hold after running 12 tests. When it found this case, it shrunk it 10 times to arrive at the counterexample in the output. The counterexample contains each input value that was used for the failing case along with its type. Since RapidCheck views property arguments as tuples, the type is shown here as <code>std::tuple&lt;std::vector&lt;int&gt;&gt;</code>.</p><p>Can you guess what the bug is? The fact that there are exactly 10 items should give a clue. In this case, the bug is that the implementation sets the first element to <code>0</code> when <code>l0.size() &gt;= 10</code>. This is also the reason for the initial <code>0</code>, the problem doesn&#x27;t manifest when all elements are zero. How did this bug happen? Who knows!</p><h2>Thanks</h2><p>Big thanks to my employer, Spotify, for making it possible for me to spend work time improving RapidCheck.</p></div></div><div class="banner footer"><div class="view column"><div class="actions"><div class="links"><a href="/">Buckaroo</a><a href="https://github.com/LoopPerfect/buckaroo/wiki" target="_blank">Docs</a><a href="https://github.com/LoopPerfect/buckaroo" target="_blank">GitHub</a></div><div class="signup"><h1 class="action">Sign up for our Newsletter</h1><div class="info">Get the latest updates about new packages and Buckaroo releases.</div><button>Sign Up</button></div></div><div class="powered"><img src="/LoopPerfectInvertSmall.png"/><span>Powered by LoopPerfect</span></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"packageName":"buckaroo-pm/emil-e-rapidcheck","name":"emil-e/rapidcheck","licence":"BSD-2-Clause","description":"QuickCheck clone for C++ with the goal of being simple to use with as little boilerplate as possible.","readme":"# RapidCheck [![Build Status](https://travis-ci.org/emil-e/rapidcheck.svg?branch=master)](https://travis-ci.org/emil-e/rapidcheck) [![Build status](https://ci.appveyor.com/api/projects/status/8hms56ghn27agpcj/branch/master?svg=true)](https://ci.appveyor.com/project/emil-e/rapidcheck/branch/master)\n\nRapidCheck is a C++ framework for property based testing inspired by QuickCheck and other similar frameworks. In property based testing, you state facts about your code that given certain precondition should always be true. RapidCheck then generates random test data to try and find a case for which the property doesn't hold. If such a case is found, RapidCheck tries to find the smallest case (for some definition of smallest) for which the property is still false and then displays this as a counterexample. For example, if the input is an integer, RapidCheck tries to find the smallest integer for which the property is false.\n\nSounds interesting? Why don't you read the **[User Guide](doc/user_guide.md)** to learn more!\n\n## Why RapidCheck?\n\nThere are existing implementations of property based testing but the ones that I have found are either (in my humble opinion) a bit clunky or are missing essential features such as test case shrinking.\n\nLet's throw together a list of features:\n\n- Write your properties in an imperative way that makes sense for C++\n- Test case shrinking\n- Great support for STL types, including maps and sets\n- Advanced combinators for creating your own generators\n- Stateful based on commands in the vein of Erlang QuickCheck\n- Integration with popular testing frameworks such as Boost Test, Google Test and Google Mock\n\n## Prerequisites and installation\n\nRapidCheck makes extensive use of C++11 and thus requires a compliant compiler. RapidCheck continuous integration builds using Clang 3.5, GCC 4.9 and Visual Studio 2015 so any later versions should also work.\n\nRapidCheck uses CMake and is built like any other CMake project. If your own project uses CMake you can simply have RapidCheck as a subdirectory and add the following to your `CMakeLists.txt`:\n\n    add_subdirectory(\"path/to/rapidcheck\")\n    target_link_libraries(my_target rapidcheck)\n\nThis will give you both linking and include directories.\n\n## Quick introduction\n\nA common first example is testing a reversal function. For such a function, double reversal should always result in the original list. In this example we will use the standard C++ `std::reverse` function:\n\n```C++\n#include \u003crapidcheck.h\u003e\n\n#include \u003cvector\u003e\n#include \u003calgorithm\u003e\n\nint main() {\n  rc::check(\"double reversal yields the original value\",\n            [](const std::vector\u003cint\u003e \u0026l0) {\n              auto l1 = l0;\n              std::reverse(begin(l1), end(l1));\n              std::reverse(begin(l1), end(l1));\n              RC_ASSERT(l0 == l1);\n            });\n\n  return 0;\n}\n```\n\nThe `check` function is used to check properties. The first parameter is an optional string which describes the property. The second parameter is a callable object that implements the property, in this case a lambda. Any parameters to the callable (in our case the `l0` parameter) will be randomly generated. The `RC_ASSERT` macro works just like any other assert macro. If the given condition is false, the property has been falsified.\n\nThe property above also forms part of a specification of the reversal function: \"For any list of integers A, reversing and then reversing again should result in A\".\n\nIf we were to run this, RapidCheck would (hopefully) output the following:\n\n```text\nUsing configuration: seed=9928307433081493900\n\n- double reversal yields the original value\nOK, passed 100 tests\n```\n\nHere, RapidCheck tells us that it ran 100 test cases and all of them passed. It also tells us the configuration that was used, in particular the random seed. If there was a bug in the implementation of `std::reverse` we could get the following output instead:\n\n```text\nFalsifiable after 12 tests and 10 shrinks\n\nstd::tuple\u003cstd::vector\u003cint\u003e\u003e:\n([1, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n\nmain.cpp:17:\nRC_ASSERT(l0 == l1)\n\nExpands to:\n[1, 0, 0, 0, 0, 0, 0, 0, 0, 0] == [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n```\n\nHere RapidCheck tells us that it found a case for which the property does not hold after running 12 tests. When it found this case, it shrunk it 10 times to arrive at the counterexample in the output. The counterexample contains each input value that was used for the failing case along with its type. Since RapidCheck views property arguments as tuples, the type is shown here as `std::tuple\u003cstd::vector\u003cint\u003e\u003e`.\n\nCan you guess what the bug is? The fact that there are exactly 10 items should give a clue. In this case, the bug is that the implementation sets the first element to `0` when `l0.size() \u003e= 10`. This is also the reason for the initial `0`, the problem doesn't manifest when all elements are zero. How did this bug happen? Who knows!\n\n## Thanks\n\nBig thanks to my employer, Spotify, for making it possible for me to spend work time improving RapidCheck.\n","versions":[{"ref":"master","manifest":"targets = [ \"//:rapidcheck\" ]\n","lockFile":"","buck":"load('//:subdir_glob.bzl', 'subdir_glob')\n\ncxx_library(\n  name = 'rapidcheck',\n  header_namespace = '',\n  exported_headers = subdir_glob([\n    ('include', '**/*.hpp'),\n    ('include', '**/*.h'),\n  ]),\n  headers = subdir_glob([\n    ('src', '**/*.h'),\n  ]),\n  srcs = glob([\n    'src/**/*.cpp',\n  ]),\n  licenses = [\n    'LICENSE.md',\n  ],\n  visibility = [\n    'PUBLIC',\n  ],\n)\n","bazel":"","deps":[],"lock":[]}],"updated":"2019-09-03T15:49:31Z","updatedUpstream":"2021-01-11T04:50:03Z","contributors":[{"login":"per-gron","avatarUrl":"https://avatars3.githubusercontent.com/u/87926?v=4"},{"login":"yairchu","avatarUrl":"https://avatars2.githubusercontent.com/u/97606?u=a8bfcc629751febf86138fa4b027e4638b7368fb\u0026v=4"},{"login":"gebart","avatarUrl":"https://avatars2.githubusercontent.com/u/317506?u=b2fa71bc43398a7f96787280ebd006086dccac67\u0026v=4"},{"login":"pyrrho","avatarUrl":"https://avatars0.githubusercontent.com/u/361216?v=4"},{"login":"Timmmm","avatarUrl":"https://avatars3.githubusercontent.com/u/376842?v=4"},{"login":"janisozaur","avatarUrl":"https://avatars1.githubusercontent.com/u/550290?v=4"},{"login":"pmalek","avatarUrl":"https://avatars3.githubusercontent.com/u/739996?v=4"},{"login":"furuholm","avatarUrl":"https://avatars3.githubusercontent.com/u/977970?u=34ca4d99dc59a112ebf9610f829ff24bc503ca69\u0026v=4"},{"login":"objectx","avatarUrl":"https://avatars3.githubusercontent.com/u/1112949?v=4"},{"login":"Cypher1","avatarUrl":"https://avatars0.githubusercontent.com/u/1120798?u=5dfad9b9f04240ad475dd615a81b3e7f7d375758\u0026v=4"},{"login":"gjasny","avatarUrl":"https://avatars1.githubusercontent.com/u/1165598?v=4"},{"login":"arekfu","avatarUrl":"https://avatars0.githubusercontent.com/u/1193708?u=93cf1b1031ca4547bb63b0cd9cceae83596c66f4\u0026v=4"},{"login":"KingDuckZ","avatarUrl":"https://avatars1.githubusercontent.com/u/1258127?u=6b713e49cca5d3215763a8e32124a092d6323ab3\u0026v=4"},{"login":"vargad","avatarUrl":"https://avatars3.githubusercontent.com/u/2170688?v=4"},{"login":"kveretennicov","avatarUrl":"https://avatars0.githubusercontent.com/u/2310192?u=86f5324c7a56902c5f0b5df895da27ed61d1879c\u0026v=4"},{"login":"milleniumbug","avatarUrl":"https://avatars1.githubusercontent.com/u/3199994?u=a9b358816b64aab705e49651c966a1b610343012\u0026v=4"},{"login":"emil-e","avatarUrl":"https://avatars3.githubusercontent.com/u/5737870?v=4"},{"login":"MHeasell","avatarUrl":"https://avatars1.githubusercontent.com/u/6900292?u=0297d9126165a1ff4ed4849a05e4947c33bde14f\u0026v=4"},{"login":"modelorganism","avatarUrl":"https://avatars3.githubusercontent.com/u/7078804?v=4"},{"login":"nikola-benes","avatarUrl":"https://avatars2.githubusercontent.com/u/8376442?v=4"},{"login":"mkloczko","avatarUrl":"https://avatars0.githubusercontent.com/u/8819144?v=4"},{"login":"Thorius","avatarUrl":"https://avatars1.githubusercontent.com/u/8921461?u=e5ff3a2ecd6659fb2cef3e0d065c911a857749d7\u0026v=4"},{"login":"stolyaroleh","avatarUrl":"https://avatars2.githubusercontent.com/u/11602335?v=4"},{"login":"annius","avatarUrl":"https://avatars0.githubusercontent.com/u/12119921?v=4"},{"login":"Jvanrhijn","avatarUrl":"https://avatars3.githubusercontent.com/u/13031225?u=71bf4c32448539582e7f96066d1ca39efd2b2c75\u0026v=4"}],"fundingLinks":[],"contactLinks":[],"stars":703,"forks":125,"topics":[]}},"__N_SSG":true},"page":"/packages/[owner]/[name]","query":{"owner":"buckaroo-pm","name":"emil-e-rapidcheck"},"buildId":"XEnVUsOG7VkTdg59Wro6f","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-617a3a2c770be2525c7f.js"></script><script src="/_next/static/chunks/main-7d1613afc8c8f43cb50f.js" async=""></script><script src="/_next/static/chunks/webpack-95c2b224bccf352ee870.js" async=""></script><script src="/_next/static/chunks/framework.ae3781fe50e43492a499.js" async=""></script><script src="/_next/static/chunks/commons.9b549cceddc4472f1953.js" async=""></script><script src="/_next/static/chunks/pages/_app-3e4ffec4bbf3a45ef50f.js" async=""></script><script src="/_next/static/chunks/c18d713dde5d8f274a9340ae8a63196292880c5e.7af0c42e7b17c91d2be5.js" async=""></script><script src="/_next/static/chunks/pages/packages/%5Bowner%5D/%5Bname%5D-bc25a6cf0982fd349b0a.js" async=""></script><script src="/_next/static/XEnVUsOG7VkTdg59Wro6f/_buildManifest.js" async=""></script><script src="/_next/static/XEnVUsOG7VkTdg59Wro6f/_ssgManifest.js" async=""></script></body></html>