<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"/><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/a0584ae5515792e72ab5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a0584ae5515792e72ab5.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-7d1613afc8c8f43cb50f.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-95c2b224bccf352ee870.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.ae3781fe50e43492a499.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.9b549cceddc4472f1953.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-3e4ffec4bbf3a45ef50f.js" as="script"/><link rel="preload" href="/_next/static/chunks/c18d713dde5d8f274a9340ae8a63196292880c5e.7af0c42e7b17c91d2be5.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/packages/%5Bowner%5D/%5Bname%5D-bc25a6cf0982fd349b0a.js" as="script"/></head><body><div id="__next"><div class="site"><div class="navigation"><div class="view row space-between"><div class="links"><a class="buckaroo" href="/">Buckaroo</a><a href="https://github.com/LoopPerfect/buckaroo/wiki" target="_blank">Docs</a><a href="/blog">Blog</a></div><div class="search"><input placeholder="search for a module..." value=""/><button class="fa fa-search fa-large"></button></div><iframe id="star-button" src="https://ghbtns.com/github-btn.html?user=LoopPerfect&amp;repo=buckaroo&amp;type=star&amp;count=true&amp;size=large" frameBorder="0" scrolling="0" width="160px" height="30px"></iframe></div></div><div></div><div class="banner"><div style="display:flex"><div class="package"><img src="/packages/buckaroo-pm/arximboldi-immer/logo.png"/></div><div><h1>buckaroo-pm/arximboldi-immer</h1><div style="max-width:600px">Postmodern immutable and persistent data structures for C++</div><br/><div><b>1752</b></div></div></div><div style="display:inline-flex;flex-flow:row wrap"><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">immutable</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">data-structures</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">modern-cpp</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">cpp14</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">rrb-tree</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">persistent</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">postmodernism</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">value-semantics</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">hamt</span></div></div><div style="display:flex;width:100%;justify-content:center;margin-top:-2.7em"><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:white;color:black;border:solid 1px #fff">ReadMe</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Buck</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Manifest</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Dependencies</div></div><div class="banner white"><div class="view column"><h2>ReadMe</h2><p>.. image:: <a href="https://travis-ci.org/arximboldi/immer.svg?branch=master">https://travis-ci.org/arximboldi/immer.svg?branch=master</a>
:target: <a href="https://travis-ci.org/arximboldi/immer">https://travis-ci.org/arximboldi/immer</a>
:alt: Travis Badge</p><p>.. image:: <a href="https://codecov.io/gh/arximboldi/immer/branch/master/graph/badge.svg">https://codecov.io/gh/arximboldi/immer/branch/master/graph/badge.svg</a>
:target: <a href="https://codecov.io/gh/arximboldi/immer">https://codecov.io/gh/arximboldi/immer</a>
:alt: CodeCov Badge</p><p>.. image:: <a href="https://cdn.rawgit.com/arximboldi/immer/355a113782aedc2ea22463444014809269c2376d/doc/_static/sinusoidal-badge.svg">https://cdn.rawgit.com/arximboldi/immer/355a113782aedc2ea22463444014809269c2376d/doc/_static/sinusoidal-badge.svg</a>
:target: <a href="https://sinusoid.al">https://sinusoid.al</a>
:alt: Sinusoidal Engineering badge
:align: right</p><p>.. raw:: html</p>   &lt;img width=&quot;100%&quot; src=&quot;https://cdn.rawgit.com/arximboldi/immer/3888170d247359cc0905eed548cd46897caef0f4/doc/_static/logo-front.svg&quot; alt=&quot;Logotype&quot;/&gt;<p>.. include:introduction/start</p><p><strong>immer</strong> is a library of persistent_ and immutable_ data structures
written in C++.  These enable whole new kinds of architectures for
interactive and concurrent programs of striking simplicity,
correctness, and performance.</p><p>.. _persistent: <a href="https://en.wikipedia.org/wiki/Persistent_data_structure">https://en.wikipedia.org/wiki/Persistent_data_structure</a>
.. _immutable:  <a href="https://en.wikipedia.org/wiki/Immutable_object">https://en.wikipedia.org/wiki/Immutable_object</a></p><ul><li><strong>Documentation</strong> (Contents_)</li><li><strong>Code</strong> (GitHub_)</li><li><strong>CppCon&#x27;17 Talk</strong>: <em>Postmodern Immutable Data Structures</em> (YouTube_, Slides_)</li><li><strong>ICFP&#x27;17 Paper</strong>: <em>Persistence for the masses</em> (Preprint_)</li></ul><p>.. _contents: <a href="https://sinusoid.es/immer/#contents">https://sinusoid.es/immer/#contents</a>
.. _github: <a href="https://github.com/arximboldi/immer">https://github.com/arximboldi/immer</a>
.. _youtube: <a href="https://www.youtube.com/watch?v=sPhpelUfu8Q">https://www.youtube.com/watch?v=sPhpelUfu8Q</a>
.. _slides: <a href="https://sinusoid.es/talks/immer-cppcon17">https://sinusoid.es/talks/immer-cppcon17</a>
.. _preprint: <a href="https://public.sinusoid.es/misc/immer/immer-icfp17.pdf">https://public.sinusoid.es/misc/immer/immer-icfp17.pdf</a></p><p>.. raw:: html</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span> &lt;a href=&quot;https://www.patreon.com/sinusoidal&quot;&gt;
</span>     &lt;img align=&quot;right&quot; src=&quot;https://cdn.rawgit.com/arximboldi/immer/master/doc/_static/patreon.svg&quot;&gt;
<!-- --> &lt;/a&gt;
</code></pre><p>This library has full months of <em>pro bono</em> research and development
invested in it.  This is just the first step in a long-term vision
of making interactive and concurrent C++ programs easier to
write. <strong>Put your logo here and help this project&#x27;s long term
sustainability by buying a sponsorship package:</strong> <a href="mailto:immer@sinusoid.al">immer@sinusoid.al</a></p><p>.. include:index/end</p><h2>Example</h2><p>.. github does not support the <code>literalinclude</code> directive.  This
example is copy pasted from <code>example/vector/intro.cpp</code></p><p>.. code-block:: c++</p><p>#include &lt;immer/vector.hpp&gt;
int main()
{
const auto v0 = immer::vector<!-- -->&lt;int&gt;<!-- -->{};
const auto v1 = v0.push_back(13);
assert(v0.size() == 0 &amp;&amp; v1.size() == 1 &amp;&amp; v1[0] == 13);</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>   const auto v2 = v1.set(0, 42);
</span>   assert(v1[0] == 13 &amp;&amp; v2[0] == 42);
</code></pre><p>}
..</p><p>For a <strong>complete example</strong> check <code>Ewig, a simple didactic
  text-editor &lt;https://github.com/arximboldi/ewig&gt;</code>_ built with this
library.</p><h2>Why?</h2><p>In the last few years, there has been a growing interest in immutable
data structures, motivated by the horizontal scaling of our processing
power and the ubiquity of highly interactive systems.  Languages like
Clojure_ and Scala_ provide them by default, and implementations
for JavaScript like Mori_ and Immutable.js_ are widely used,
specially in combination with modern UI frameworks like React_.</p><p>Interactivity
Thanks to <em>persistence</em> and <em>structural sharing</em>, new values can
be efficiently compared with old ones.  This enables simpler ways of
<em>reasoning about change</em> that sit at the core of modern
interactive systems programming paradigms like <code>reactive
    programming</code>_.</p><p>Concurrency
Passing immutable data structures by value does not need to copy
any data. In the absence of mutation, data can be safely read
from multiple concurrent processes, and enable concurrency
patterns like <code>share by communicating</code>_ efficiently.</p><p>Parallelism
Some recent immutable data structures have interesting properties
like :math:<code>O(log(n))</code> concatenation, which enable new kinds of
<code>parallelization algorithms</code>_.</p><p>.. _clojure: <a href="http://clojure.org/reference/data_structures">http://clojure.org/reference/data_structures</a>
.. _scala: <a href="http://docs.scala-lang.org/overviews/collections/overview.html">http://docs.scala-lang.org/overviews/collections/overview.html</a></p><p>.. _mori: <a href="https://swannodette.github.io/mori/">https://swannodette.github.io/mori/</a>
.. _immutable.js: <a href="https://github.com/facebook/immutable-js">https://github.com/facebook/immutable-js</a>
.. _react: <a href="https://facebook.github.io/react/">https://facebook.github.io/react/</a></p><p>.. _reactive programming: <a href="https://en.wikipedia.org/wiki/Reactive_programming">https://en.wikipedia.org/wiki/Reactive_programming</a>
.. _share by communicating: <a href="https://blog.golang.org/share-memory-by-communicating">https://blog.golang.org/share-memory-by-communicating</a>
.. _parallelization algorithms: <a href="http://docs.scala-lang.org/overviews/parallel-collections/overview.html">http://docs.scala-lang.org/overviews/parallel-collections/overview.html</a></p><h2>Features</h2><p>Idiomatic
This library doesn&#x27;t pretend that it is written in Haskell.  It
leverages features from recent standards to provide an API that is
both efficient and natural for a C++ developer.</p><p>Performant
You use C++ because you need this.  <em>Immer</em> implements state of
the art data structures with efficient cache utilization and have
been proven production ready in other languages.  It also includes
our own improvements over that are only possible because of the
C++&#x27;s ability to abstract over memory layout.  We monitor the
performance impact of every change by collecting <code>benchmark
    results</code>_ directly from CI.</p><p>.. _benchmark results: <a href="https://public.sinusoid.es/misc/immer/reports/">https://public.sinusoid.es/misc/immer/reports/</a></p><p>Customizable
We leverage templates and <code>policy-based design</code>_ to build
data-structures that can be adapted to work efficiently for
various purposes and architectures, for example, by choosing among
various <code>memory management strategies</code>.  This turns
<em>immer</em> into a good foundation to provide immutable data
structures to higher level languages with a C runtime, like
Python_ or Guile_.</p><p>.. _python: <a href="https://www.python.org/">https://www.python.org/</a>
.. _guile: <a href="https://www.gnu.org/software/guile/">https://www.gnu.org/software/guile/</a>
.. _policy-based design: <a href="https://en.wikipedia.org/wiki/Policy-based_design">https://en.wikipedia.org/wiki/Policy-based_design</a>
.. _memory management strategies: <a href="https://sinusoid.es/immer/memory.html">https://sinusoid.es/immer/memory.html</a></p><h2>Dependencies</h2><p>This library is written in <strong>C++14</strong> and a compliant compiler is
necessary.  It is <code>continuously tested</code>_ with Clang 3.8 and GCC 6, but
it might work with other compilers and versions.</p><p>No external library is necessary and there are no other requirements.</p><p>.. _continuously tested: <a href="https://travis-ci.org/arximboldi/immer">https://travis-ci.org/arximboldi/immer</a></p><h2>Usage</h2><p>This is a <strong>header only</strong> library.  You can just copy the <code>immer</code>
subfolder somewhere in your <em>include path</em>.</p><p>If you are using the <code>Nix package manager</code>_ (we strongly recommend it)
you can just::</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>nix-env -if https://github.com/arximboldi/immer/archive/master.tar.gz</span></code></pre><p>Alternatively, you can use <code>CMake</code>_ to install the library in your
system once you have manually cloned the repository::</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>mkdir -p build &amp;&amp; cd build
</span>cmake .. &amp;&amp; sudo make install
</code></pre><p>.. _nix package manager: <a href="https://nixos.org/nix">https://nixos.org/nix</a>
.. _cmake: <a href="https://cmake.org/">https://cmake.org/</a></p><h2>Development</h2><p>In order to develop the library, you will need to compile and run the
examples, tests and benchmarks.  These require some additional tools.
The easiest way to install them is by using the <code>Nix package
manager</code>_.  At the root of the repository just type::</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>nix-shell</span></code></pre><p>This will download all required dependencies and create an isolated
environment in which you can use these dependencies, without polluting
your system.</p><p>Then you can proceed to generate a development project using <code>CMake</code>_::</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>mkdir build &amp;&amp; cd build
</span>cmake ..
</code></pre><p>From then on, one may build and run all tests by doing::</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>make check</span></code></pre><p>In order to build and run all benchmarks when running <code>make check</code>,
run <code>cmake</code> again with the option <code>-DCHECK_BENCHMARKS=1</code>.  The
results of running the benchmarks will be saved to a folder
<code>reports/</code> in the project root.</p><h2>License</h2><p><strong>This software is licensed under the Boost Software License 1.0</strong>.</p><p>.. image:: <a href="https://upload.wikimedia.org/wikipedia/commons/c/cd/Boost.png">https://upload.wikimedia.org/wikipedia/commons/c/cd/Boost.png</a>
:alt: Boost logo
:target: <a href="http://boost.org/LICENSE_1_0.txt">http://boost.org/LICENSE_1_0.txt</a>
:align: right</p><p>The full text of the license is can be accessed <code>via this link
&lt;http://boost.org/LICENSE_1_0.txt&gt;</code>_ and is also included
in the <code>LICENSE</code> file of this software package.</p></div></div><div class="banner footer"><div class="view column"><div class="actions"><div class="links"><a href="/">Buckaroo</a><a href="https://github.com/LoopPerfect/buckaroo/wiki" target="_blank">Docs</a><a href="https://github.com/LoopPerfect/buckaroo" target="_blank">GitHub</a></div><div class="signup"><h1 class="action">Sign up for our Newsletter</h1><div class="info">Get the latest updates about new packages and Buckaroo releases.</div><button>Sign Up</button></div></div><div class="powered"><img src="/LoopPerfectInvertSmall.png"/><span>Powered by LoopPerfect</span></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"packageName":"buckaroo-pm/arximboldi-immer","name":"arximboldi/immer","licence":"BSL-1.0","description":"Postmodern immutable and persistent data structures for C++","readme":"\n.. image:: https://travis-ci.org/arximboldi/immer.svg?branch=master\n   :target: https://travis-ci.org/arximboldi/immer\n   :alt: Travis Badge\n\n.. image:: https://codecov.io/gh/arximboldi/immer/branch/master/graph/badge.svg\n   :target: https://codecov.io/gh/arximboldi/immer\n   :alt: CodeCov Badge\n\n.. image:: https://cdn.rawgit.com/arximboldi/immer/355a113782aedc2ea22463444014809269c2376d/doc/_static/sinusoidal-badge.svg\n   :target: https://sinusoid.al\n   :alt: Sinusoidal Engineering badge\n   :align: right\n\n.. raw:: html\n\n   \u003cimg width=\"100%\" src=\"https://cdn.rawgit.com/arximboldi/immer/3888170d247359cc0905eed548cd46897caef0f4/doc/_static/logo-front.svg\" alt=\"Logotype\"/\u003e\n\n.. include:introduction/start\n\n**immer** is a library of persistent_ and immutable_ data structures\nwritten in C++.  These enable whole new kinds of architectures for\ninteractive and concurrent programs of striking simplicity,\ncorrectness, and performance.\n\n.. _persistent: https://en.wikipedia.org/wiki/Persistent_data_structure\n.. _immutable:  https://en.wikipedia.org/wiki/Immutable_object\n\n* **Documentation** (Contents_)\n* **Code** (GitHub_)\n* **CppCon'17 Talk**: *Postmodern Immutable Data Structures* (YouTube_, Slides_)\n* **ICFP'17 Paper**: *Persistence for the masses* (Preprint_)\n\n.. _contents: https://sinusoid.es/immer/#contents\n.. _github: https://github.com/arximboldi/immer\n.. _youtube: https://www.youtube.com/watch?v=sPhpelUfu8Q\n.. _slides: https://sinusoid.es/talks/immer-cppcon17\n.. _preprint: https://public.sinusoid.es/misc/immer/immer-icfp17.pdf\n\n\n  .. raw:: html\n\n     \u003ca href=\"https://www.patreon.com/sinusoidal\"\u003e\n         \u003cimg align=\"right\" src=\"https://cdn.rawgit.com/arximboldi/immer/master/doc/_static/patreon.svg\"\u003e\n     \u003c/a\u003e\n\n  This library has full months of *pro bono* research and development\n  invested in it.  This is just the first step in a long-term vision\n  of making interactive and concurrent C++ programs easier to\n  write. **Put your logo here and help this project's long term\n  sustainability by buying a sponsorship package:** immer@sinusoid.al\n\n.. include:index/end\n\nExample\n-------\n\n.. github does not support the ``literalinclude`` directive.  This\n   example is copy pasted from ``example/vector/intro.cpp``\n\n.. code-block:: c++\n\n   #include \u003cimmer/vector.hpp\u003e\n   int main()\n   {\n       const auto v0 = immer::vector\u003cint\u003e{};\n       const auto v1 = v0.push_back(13);\n       assert(v0.size() == 0 \u0026\u0026 v1.size() == 1 \u0026\u0026 v1[0] == 13);\n\n       const auto v2 = v1.set(0, 42);\n       assert(v1[0] == 13 \u0026\u0026 v2[0] == 42);\n   }\n..\n\n  For a **complete example** check `Ewig, a simple didactic\n  text-editor \u003chttps://github.com/arximboldi/ewig\u003e`_ built with this\n  library.\n\n\nWhy?\n----\n\nIn the last few years, there has been a growing interest in immutable\ndata structures, motivated by the horizontal scaling of our processing\npower and the ubiquity of highly interactive systems.  Languages like\nClojure_ and Scala_ provide them by default, and implementations\nfor JavaScript like Mori_ and Immutable.js_ are widely used,\nspecially in combination with modern UI frameworks like React_.\n\nInteractivity\n    Thanks to *persistence* and *structural sharing*, new values can\n    be efficiently compared with old ones.  This enables simpler ways of\n    *reasoning about change* that sit at the core of modern\n    interactive systems programming paradigms like `reactive\n    programming`_.\n\nConcurrency\n    Passing immutable data structures by value does not need to copy\n    any data. In the absence of mutation, data can be safely read\n    from multiple concurrent processes, and enable concurrency\n    patterns like `share by communicating`_ efficiently.\n\nParallelism\n   Some recent immutable data structures have interesting properties\n   like :math:`O(log(n))` concatenation, which enable new kinds of\n   `parallelization algorithms`_.\n\n.. _clojure: http://clojure.org/reference/data_structures\n.. _scala: http://docs.scala-lang.org/overviews/collections/overview.html\n\n.. _mori: https://swannodette.github.io/mori/\n.. _immutable.js: https://github.com/facebook/immutable-js\n.. _react: https://facebook.github.io/react/\n\n.. _reactive programming: https://en.wikipedia.org/wiki/Reactive_programming\n.. _share by communicating: https://blog.golang.org/share-memory-by-communicating\n.. _parallelization algorithms: http://docs.scala-lang.org/overviews/parallel-collections/overview.html\n\nFeatures\n--------\n\nIdiomatic\n    This library doesn't pretend that it is written in Haskell.  It\n    leverages features from recent standards to provide an API that is\n    both efficient and natural for a C++ developer.\n\nPerformant\n    You use C++ because you need this.  *Immer* implements state of\n    the art data structures with efficient cache utilization and have\n    been proven production ready in other languages.  It also includes\n    our own improvements over that are only possible because of the\n    C++'s ability to abstract over memory layout.  We monitor the\n    performance impact of every change by collecting `benchmark\n    results`_ directly from CI.\n\n.. _benchmark results: https://public.sinusoid.es/misc/immer/reports/\n\nCustomizable\n    We leverage templates and `policy-based design`_ to build\n    data-structures that can be adapted to work efficiently for\n    various purposes and architectures, for example, by choosing among\n    various `memory management strategies`.  This turns\n    *immer* into a good foundation to provide immutable data\n    structures to higher level languages with a C runtime, like\n    Python_ or Guile_.\n\n.. _python: https://www.python.org/\n.. _guile: https://www.gnu.org/software/guile/\n.. _policy-based design: https://en.wikipedia.org/wiki/Policy-based_design\n.. _memory management strategies: https://sinusoid.es/immer/memory.html\n\nDependencies\n------------\n\nThis library is written in **C++14** and a compliant compiler is\nnecessary.  It is `continuously tested`_ with Clang 3.8 and GCC 6, but\nit might work with other compilers and versions.\n\nNo external library is necessary and there are no other requirements.\n\n.. _continuously tested: https://travis-ci.org/arximboldi/immer\n\nUsage\n-----\n\nThis is a **header only** library.  You can just copy the ``immer``\nsubfolder somewhere in your *include path*.\n\nIf you are using the `Nix package manager`_ (we strongly recommend it)\nyou can just::\n\n    nix-env -if https://github.com/arximboldi/immer/archive/master.tar.gz\n\nAlternatively, you can use `CMake`_ to install the library in your\nsystem once you have manually cloned the repository::\n\n    mkdir -p build \u0026\u0026 cd build\n    cmake .. \u0026\u0026 sudo make install\n\n.. _nix package manager: https://nixos.org/nix\n.. _cmake: https://cmake.org/\n\nDevelopment\n-----------\n\nIn order to develop the library, you will need to compile and run the\nexamples, tests and benchmarks.  These require some additional tools.\nThe easiest way to install them is by using the `Nix package\nmanager`_.  At the root of the repository just type::\n\n    nix-shell\n\nThis will download all required dependencies and create an isolated\nenvironment in which you can use these dependencies, without polluting\nyour system.\n\nThen you can proceed to generate a development project using `CMake`_::\n\n    mkdir build \u0026\u0026 cd build\n    cmake ..\n\nFrom then on, one may build and run all tests by doing::\n\n    make check\n\nIn order to build and run all benchmarks when running ``make check``,\nrun ``cmake`` again with the option ``-DCHECK_BENCHMARKS=1``.  The\nresults of running the benchmarks will be saved to a folder\n``reports/`` in the project root.\n\nLicense\n-------\n\n**This software is licensed under the Boost Software License 1.0**.\n\n.. image:: https://upload.wikimedia.org/wikipedia/commons/c/cd/Boost.png\n   :alt: Boost logo\n   :target: http://boost.org/LICENSE_1_0.txt\n   :align: right\n\nThe full text of the license is can be accessed `via this link\n\u003chttp://boost.org/LICENSE_1_0.txt\u003e`_ and is also included\nin the ``LICENSE`` file of this software package.\n","versions":[{"ref":"master","manifest":"targets = [ \"//:immer\" ]","lockFile":"manifest = \"e2db1c171ed429f8b186274401978f0bc3e5b92a913e546683f67842a27644ce\"\n\n","buck":"load('//:buckaroo_macros.bzl', 'buckaroo_deps')\nload('//:subdir_glob.bzl', 'subdir_glob')\n\nprebuilt_cxx_library(\n  name = 'immer',\n  header_only = True,\n  header_namespace = 'immer',\n  exported_headers = subdir_glob([\n    ('immer', '**/*.hpp'),\n  ]),\n  deps = buckaroo_deps(),\n  visibility = [\n    'PUBLIC',\n  ],\n)\n","bazel":"","deps":[],"lock":[]}],"updated":"2019-01-24T12:09:27Z","updatedUpstream":"2021-01-13T16:33:30Z","contributors":[{"login":"arBmind","avatarUrl":"https://avatars0.githubusercontent.com/u/44107?v=4"},{"login":"jrheard","avatarUrl":"https://avatars2.githubusercontent.com/u/108659?u=f3c6577e90babe264de185e3993d63cbe284cc14\u0026v=4"},{"login":"bheesham","avatarUrl":"https://avatars1.githubusercontent.com/u/171007?u=59cbd3445f3d881636312c005088274cf529d251\u0026v=4"},{"login":"chuim","avatarUrl":"https://avatars0.githubusercontent.com/u/235138?v=4"},{"login":"mrpi","avatarUrl":"https://avatars1.githubusercontent.com/u/379332?u=e65eae7ab58a744c1ea4ecfa6711c67ad9318731\u0026v=4"},{"login":"ikrima","avatarUrl":"https://avatars3.githubusercontent.com/u/505737?v=4"},{"login":"fweik","avatarUrl":"https://avatars3.githubusercontent.com/u/893663?u=e6fbe780658416b33f79b210d33b3c24ef9e168f\u0026v=4"},{"login":"jzrake","avatarUrl":"https://avatars1.githubusercontent.com/u/1354659?v=4"},{"login":"margnus1","avatarUrl":"https://avatars3.githubusercontent.com/u/1678250?u=b3570f594225ad934121de4a1a72b01107c06b78\u0026v=4"},{"login":"codablock","avatarUrl":"https://avatars3.githubusercontent.com/u/1884269?u=df721911d7cca6bdc0ac4ec0fa5215047a2e4a34\u0026v=4"},{"login":"kostspielig","avatarUrl":"https://avatars3.githubusercontent.com/u/3260147?u=c5508d2838dfe0d5855ac07aad8ba1c393abfd84\u0026v=4"},{"login":"apmccartney","avatarUrl":"https://avatars2.githubusercontent.com/u/3707548?v=4"},{"login":"arximboldi","avatarUrl":"https://avatars1.githubusercontent.com/u/4521138?u=69e908057adb38e7366ff916270f2b63646b6929\u0026v=4"},{"login":"dwightguth","avatarUrl":"https://avatars0.githubusercontent.com/u/5104541?v=4"},{"login":"myd7349","avatarUrl":"https://avatars3.githubusercontent.com/u/5435649?v=4"},{"login":"ehoeks","avatarUrl":"https://avatars0.githubusercontent.com/u/10461844?v=4"},{"login":"dawikur","avatarUrl":"https://avatars1.githubusercontent.com/u/11866902?u=9e6a0152bd9279a9c092b8be36d1faea91881414\u0026v=4"},{"login":"luismerino","avatarUrl":"https://avatars1.githubusercontent.com/u/13561578?u=c23049a9468548b83508cd0878bc37b5458985ea\u0026v=4"},{"login":"prouschal","avatarUrl":"https://avatars1.githubusercontent.com/u/16081148?v=4"},{"login":"craigscott-crascit","avatarUrl":"https://avatars3.githubusercontent.com/u/16160067?u=fe9da44b4e63562009d3bc9c04e81ed774d4ac9f\u0026v=4"},{"login":"fedormatantsev","avatarUrl":"https://avatars2.githubusercontent.com/u/36549098?u=c87db4393b5c30dc089d9e84b8ce1070de117a12\u0026v=4"},{"login":"gin-ahirsch","avatarUrl":"https://avatars3.githubusercontent.com/u/38940744?v=4"}],"fundingLinks":["https://github.com/arximboldi","https://patreon.com/sinusoidal","paypal.me/sinusoidal","sinusoid.al"],"contactLinks":[],"stars":1752,"forks":96,"topics":["immutable","data-structures","modern-cpp","cpp14","rrb-tree","persistent","postmodernism","value-semantics","hamt"]}},"__N_SSG":true},"page":"/packages/[owner]/[name]","query":{"owner":"buckaroo-pm","name":"arximboldi-immer"},"buildId":"XEnVUsOG7VkTdg59Wro6f","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-617a3a2c770be2525c7f.js"></script><script src="/_next/static/chunks/main-7d1613afc8c8f43cb50f.js" async=""></script><script src="/_next/static/chunks/webpack-95c2b224bccf352ee870.js" async=""></script><script src="/_next/static/chunks/framework.ae3781fe50e43492a499.js" async=""></script><script src="/_next/static/chunks/commons.9b549cceddc4472f1953.js" async=""></script><script src="/_next/static/chunks/pages/_app-3e4ffec4bbf3a45ef50f.js" async=""></script><script src="/_next/static/chunks/c18d713dde5d8f274a9340ae8a63196292880c5e.7af0c42e7b17c91d2be5.js" async=""></script><script src="/_next/static/chunks/pages/packages/%5Bowner%5D/%5Bname%5D-bc25a6cf0982fd349b0a.js" async=""></script><script src="/_next/static/XEnVUsOG7VkTdg59Wro6f/_buildManifest.js" async=""></script><script src="/_next/static/XEnVUsOG7VkTdg59Wro6f/_ssgManifest.js" async=""></script></body></html>