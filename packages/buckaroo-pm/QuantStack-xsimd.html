<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"/><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/a0584ae5515792e72ab5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a0584ae5515792e72ab5.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-7d1613afc8c8f43cb50f.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-95c2b224bccf352ee870.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.ae3781fe50e43492a499.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.9b549cceddc4472f1953.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-3e4ffec4bbf3a45ef50f.js" as="script"/><link rel="preload" href="/_next/static/chunks/c18d713dde5d8f274a9340ae8a63196292880c5e.7af0c42e7b17c91d2be5.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/packages/%5Bowner%5D/%5Bname%5D-bc25a6cf0982fd349b0a.js" as="script"/></head><body><div id="__next"><div class="site"><div class="navigation"><div class="view row space-between"><div class="links"><a class="buckaroo" href="/">Buckaroo</a><a href="https://github.com/LoopPerfect/buckaroo/wiki" target="_blank">Docs</a><a href="/blog">Blog</a></div><div class="search"><input placeholder="search for a module..." value=""/><button class="fa fa-search fa-large"></button></div><iframe id="star-button" src="https://ghbtns.com/github-btn.html?user=LoopPerfect&amp;repo=buckaroo&amp;type=star&amp;count=true&amp;size=large" frameBorder="0" scrolling="0" width="160px" height="30px"></iframe></div></div><div></div><div class="banner"><div style="display:flex"><div class="package"><img src="/packages/buckaroo-pm/QuantStack-xsimd/logo.png"/></div><div><h1>buckaroo-pm/QuantStack-xsimd</h1><div style="max-width:600px">Modern, portable C++ wrappers for SIMD intrinsics and parallelized, optimized math implementations (SSE, AVX, NEON, AVX512)</div><br/><div><b>928</b></div></div></div><div style="display:inline-flex;flex-flow:row wrap"><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">simd-intrinsics</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">c-plus-plus-14</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">vectorization</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">simd</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">cpp</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">avx</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">neon</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">sse</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">avx512</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">simd-instructions</span><span class="tag" style="border-radius:5px;padding:10px;background:white;color:black;font-size:0.7em;margin:5px">mathematical-functions</span></div></div><div style="display:flex;width:100%;justify-content:center;margin-top:-2.7em"><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:white;color:black;border:solid 1px #fff">ReadMe</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Buck</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Manifest</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">LockFile</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Dependencies</div></div><div class="banner white"><div class="view column"><h2>ReadMe</h2><h1><img src="docs/source/xsimd.svg" alt="xsimd"/></h1><p><a href="https://travis-ci.org/QuantStack/xsimd"><img src="https://travis-ci.org/QuantStack/xsimd.svg?branch=master" alt="Travis"/></a>
<a href="https://ci.appveyor.com/project/QuantStack/xsimd"><img src="https://ci.appveyor.com/api/projects/status/unk39xhu0wxmiif7?svg=true" alt="Appveyor"/></a>
<a href="https://xsimd.readthedocs.io/en/latest/?badge=latest"><img src="http://readthedocs.org/projects/xsimd/badge/?version=latest" alt="Documentation Status"/></a>
<a href="https://gitter.im/QuantStack/Lobby?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Join the Gitter Chat"/></a></p><p>C++ wrappers for SIMD intrinsics</p><h2>Introduction</h2><p>SIMD (Single Instruction, Multiple Data) is a feature of microprocessors that has been available for many years. SIMD instructions perform a single operation
on a batch of values at once, and thus provide a way to significantly accelerate code execution. However, these instructions differ between microprocessor
vendors and compilers.</p><p><code>xsimd</code> provides a unified means for using these features for library authors. Namely, it enables manipulation of batches of numbers with the same arithmetic
operators as for single values. It also provides accelerated implementation of common mathematical functions operating on batches.</p><p>You can find out more about this implementation of C++ wrappers for SIMD intrinsics at the <a href="http://johanmabille.github.io/blog/archives/">The C++ Scientist</a>.
The mathematical functions are a lightweight implementation of the algorithms used in <a href="https://github.com/NumScale/boost.simd">boost.SIMD</a>.</p><p><code>xsimd</code> requires a C++14 compliant compiler. The following C++ compilers are supported:</p><table><thead><tr><th>Compiler</th><th>Version</th></tr></thead><tbody><tr><td>Microsoft Visual Studio</td><td>MSVC 2015 update 2 and above</td></tr><tr><td>g++</td><td>4.9 and above</td></tr><tr><td>clang</td><td>3.7 and above</td></tr></tbody></table><p>The following SIMD instruction set extensions are supported:</p><table><thead><tr><th>Architecture</th><th>Instruction set extensions</th></tr></thead><tbody><tr><td>x86</td><td>SSE2, SSE3, SSSE3, SSE4.1, SSE4.2, AVX, FMA3, AVX2</td></tr><tr><td>x86</td><td>AVX512 (gcc7 and higher)</td></tr><tr><td>x86 AMD</td><td>same as above + SSE4A, FMA4, XOP</td></tr><tr><td>ARM</td><td>ARMv7, ARMv8</td></tr></tbody></table><h2>Installation</h2><p><code>xsimd</code> is a header-only library. We provide a package for the conda package manager.</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-bash" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>conda </span><span class="token" style="color:#DD4A68">install</span><span> -c conda-forge xsimd</span></code></pre><p>Or you can directly install it from the sources:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-bash" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>cmake -D </span><span class="token assign-left" style="color:#e90">CMAKE_INSTALL_PREFIX</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span>your_install_prefix
</span><span></span><span class="token" style="color:#DD4A68">make</span><span> </span><span class="token" style="color:#DD4A68">install</span></code></pre><h2>Documentation</h2><p>To get started with using <code>xsimd</code>, check out the full documentation</p><p><a href="http://xsimd.readthedocs.io/">http://xsimd.readthedocs.io/</a></p><h2>Usage</h2><h3>Explicit use of an instruction set extension</h3><p>Here is an example that computes the mean of two sets of 4 double floating point values, assuming AVX extension is supported:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-cpp" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token macro directive-hash" style="color:#905">#</span><span class="token macro directive" style="color:#07a">include</span><span class="token macro" style="color:#905"> </span><span class="token macro" style="color:#690">&lt;iostream&gt;</span><span>
</span><span></span><span class="token macro directive-hash" style="color:#905">#</span><span class="token macro directive" style="color:#07a">include</span><span class="token macro" style="color:#905"> </span><span class="token macro" style="color:#690">&quot;xsimd/xsimd.hpp&quot;</span><span>
</span>
<span></span><span class="token" style="color:#07a">namespace</span><span> xs </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> xsimd</span><span class="token" style="color:#999">;</span><span>
</span>
<span></span><span class="token" style="color:#07a">int</span><span> </span><span class="token" style="color:#DD4A68">main</span><span class="token" style="color:#999">(</span><span class="token" style="color:#07a">int</span><span> argc</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">char</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">*</span><span> argv</span><span class="token" style="color:#999">[</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span><span>
</span><span></span><span class="token" style="color:#999">{</span><span>
</span><span>    xs</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>batch</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#07a">double</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">4</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> </span><span class="token" style="color:#DD4A68">a</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">1.5</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">2.5</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">3.5</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">4.5</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>    xs</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>batch</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#07a">double</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">4</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> </span><span class="token" style="color:#DD4A68">b</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">2.5</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">3.5</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">4.5</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">5.5</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#07a">auto</span><span> mean </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span>a </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">+</span><span> b</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span> </span><span class="token" style="color:#905">2</span><span class="token" style="color:#999">;</span><span>
</span><span>    std</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>cout </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;&lt;</span><span> mean </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;&lt;</span><span> std</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>endl</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#07a">return</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span></code></pre><p>This example outputs:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-cpp" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#999">(</span><span class="token" style="color:#905">2.0</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">3.0</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">4.0</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">5.0</span><span class="token" style="color:#999">)</span></code></pre><h3>Auto detection of the instruction set extension to be used</h3><p>The same computation operating on vectors and using the most performant instruction set available:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-cpp" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token macro directive-hash" style="color:#905">#</span><span class="token macro directive" style="color:#07a">include</span><span class="token macro" style="color:#905"> </span><span class="token macro" style="color:#690">&lt;cstddef&gt;</span><span>
</span><span></span><span class="token macro directive-hash" style="color:#905">#</span><span class="token macro directive" style="color:#07a">include</span><span class="token macro" style="color:#905"> </span><span class="token macro" style="color:#690">&lt;vector&gt;</span><span>
</span><span></span><span class="token macro directive-hash" style="color:#905">#</span><span class="token macro directive" style="color:#07a">include</span><span class="token macro" style="color:#905"> </span><span class="token macro" style="color:#690">&quot;xsimd/xsimd.hpp&quot;</span><span>
</span>
<span></span><span class="token" style="color:#07a">namespace</span><span> xs </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> xsimd</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#07a">using</span><span> vector_type </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> std</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>vector</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#07a">double</span><span class="token" style="color:#999">,</span><span> xsimd</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>aligned_allocator</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#07a">double</span><span class="token" style="color:#999">,</span><span> XSIMD_DEFAULT_ALIGNMENT</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;&gt;</span><span class="token" style="color:#999">;</span><span>
</span>
<span></span><span class="token" style="color:#07a">void</span><span> </span><span class="token" style="color:#DD4A68">mean</span><span class="token" style="color:#999">(</span><span class="token" style="color:#07a">const</span><span> vector_type</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span> a</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">const</span><span> vector_type</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span> b</span><span class="token" style="color:#999">,</span><span> vector_type</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span> res</span><span class="token" style="color:#999">)</span><span>
</span><span></span><span class="token" style="color:#999">{</span><span>
</span><span>    std</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>size_t size </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> a</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">size</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#07a">constexpr</span><span> std</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>size_t simd_size </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> xsimd</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>simd_type</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#07a">double</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>size</span><span class="token" style="color:#999">;</span><span>
</span><span>    std</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>size_t vec_size </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> size </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">-</span><span> size </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">%</span><span> simd_size</span><span class="token" style="color:#999">;</span><span>
</span>
<span>    </span><span class="token" style="color:#07a">for</span><span class="token" style="color:#999">(</span><span>std</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>size_t i </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span> i </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span> vec_size</span><span class="token" style="color:#999">;</span><span> i </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">+=</span><span> simd_size</span><span class="token" style="color:#999">)</span><span>
</span><span>    </span><span class="token" style="color:#999">{</span><span>
</span><span>        </span><span class="token" style="color:#07a">auto</span><span> ba </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> xs</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span class="token" style="color:#DD4A68">load_aligned</span><span class="token" style="color:#999">(</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span>a</span><span class="token" style="color:#999">[</span><span>i</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>        </span><span class="token" style="color:#07a">auto</span><span> bb </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> xs</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span class="token" style="color:#DD4A68">load_aligned</span><span class="token" style="color:#999">(</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span>b</span><span class="token" style="color:#999">[</span><span>i</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>        </span><span class="token" style="color:#07a">auto</span><span> bres </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span>ba </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">+</span><span> bb</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span> </span><span class="token" style="color:#905">2.</span><span class="token" style="color:#999">;</span><span>
</span><span>        bres</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">store_aligned</span><span class="token" style="color:#999">(</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span>res</span><span class="token" style="color:#999">[</span><span>i</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span>    </span><span class="token" style="color:#07a">for</span><span class="token" style="color:#999">(</span><span>std</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>size_t i </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> vec_size</span><span class="token" style="color:#999">;</span><span> i </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span> size</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">++</span><span>i</span><span class="token" style="color:#999">)</span><span>
</span><span>    </span><span class="token" style="color:#999">{</span><span>
</span><span>        res</span><span class="token" style="color:#999">[</span><span>i</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span>a</span><span class="token" style="color:#999">[</span><span>i</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">+</span><span> b</span><span class="token" style="color:#999">[</span><span>i</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span> </span><span class="token" style="color:#905">2.</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#999">}</span></code></pre><p>We also implement STL algorithms to work optimally on batches. Using <code>xsimd::transform</code>
the loop from the example becomes:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-cpp" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token macro directive-hash" style="color:#905">#</span><span class="token macro directive" style="color:#07a">include</span><span class="token macro" style="color:#905"> </span><span class="token macro" style="color:#690">&lt;cstddef&gt;</span><span>
</span><span></span><span class="token macro directive-hash" style="color:#905">#</span><span class="token macro directive" style="color:#07a">include</span><span class="token macro" style="color:#905"> </span><span class="token macro" style="color:#690">&lt;vector&gt;</span><span>
</span><span></span><span class="token macro directive-hash" style="color:#905">#</span><span class="token macro directive" style="color:#07a">include</span><span class="token macro" style="color:#905"> </span><span class="token macro" style="color:#690">&quot;xsimd/xsimd.hpp&quot;</span><span>
</span><span></span><span class="token macro directive-hash" style="color:#905">#</span><span class="token macro directive" style="color:#07a">include</span><span class="token macro" style="color:#905"> </span><span class="token macro" style="color:#690">&quot;xsimd/stl/algorithms.hpp&quot;</span><span>
</span>
<span></span><span class="token" style="color:#07a">namespace</span><span> xs </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> xsimd</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#07a">using</span><span> vector_type </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> std</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>vector</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#07a">double</span><span class="token" style="color:#999">,</span><span> xsimd</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span>aligned_allocator</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#07a">double</span><span class="token" style="color:#999">,</span><span> XSIMD_DEFAULT_ALIGNMENT</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;&gt;</span><span class="token" style="color:#999">;</span><span>
</span>
<span></span><span class="token" style="color:#07a">void</span><span> </span><span class="token" style="color:#DD4A68">mean</span><span class="token" style="color:#999">(</span><span class="token" style="color:#07a">const</span><span> vector_type</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span> a</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">const</span><span> vector_type</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span> b</span><span class="token" style="color:#999">,</span><span> vector_type</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span> res</span><span class="token" style="color:#999">)</span><span>
</span><span></span><span class="token" style="color:#999">{</span><span>
</span><span>    xsimd</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">::</span><span class="token" style="color:#DD4A68">transform</span><span class="token" style="color:#999">(</span><span>a</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">begin</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span> a</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">end</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span> b</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">begin</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span> res</span><span class="token" style="color:#999">.</span><span class="token" style="color:#DD4A68">begin</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span>
</span><span>                     </span><span class="token" style="color:#999">[</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">(</span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#07a">auto</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span> x</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">const</span><span> </span><span class="token" style="color:#07a">auto</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span> y</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span> </span><span class="token" style="color:#999">(</span><span>x </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">+</span><span> y</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">/</span><span> </span><span class="token" style="color:#905">2.</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span></code></pre><h2>Building and Running the Tests</h2><p>Building the tests requires the <a href="https://github.com/google/googletest">GTest</a> testing framework and <a href="https://cmake.org">cmake</a>.</p><p>gtest and cmake are available as a packages for most linux distributions. Besides, they can also be installed with the <code>conda</code> package manager (even on windows):</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-bash" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>conda </span><span class="token" style="color:#DD4A68">install</span><span> -c conda-forge gtest cmake</span></code></pre><p>Once <code>gtest</code> and <code>cmake</code> are installed, you can build and run the tests:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-bash" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#DD4A68">mkdir</span><span> build
</span><span></span><span class="token" style="color:#DD4A68">cd</span><span> build
</span><span>cmake </span><span class="token" style="color:#999">..</span><span>/ -DBUILD_TESTS</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span>ON
</span><span></span><span class="token" style="color:#DD4A68">make</span><span> xtest</span></code></pre><p>In the context of continuous integration with Travis CI, tests are run in a <code>conda</code> environment, which can be activated with</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-bash" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#DD4A68">cd</span><span> </span><span class="token" style="color:#DD4A68">test</span><span>
</span><span>conda </span><span class="token" style="color:#DD4A68">env</span><span> create -f ./test-environment.yml
</span><span></span><span class="token" style="color:#DD4A68">source</span><span> activate test-xsimd
</span><span></span><span class="token" style="color:#DD4A68">cd</span><span> </span><span class="token" style="color:#999">..</span><span>
</span><span>cmake </span><span class="token" style="color:#DD4A68">.</span><span> -DBUILD_TESTS</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span>ON
</span><span></span><span class="token" style="color:#DD4A68">make</span><span> xtest</span></code></pre><h2>Building the HTML Documentation</h2><p>xsimd&#x27;s documentation is built with three tools</p><ul><li><a href="http://www.doxygen.org">doxygen</a></li><li><a href="http://www.sphinx-doc.org">sphinx</a></li><li><a href="https://breathe.readthedocs.io">breathe</a></li></ul><p>While doxygen must be installed separately, you can install breathe by typing</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-bash" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>pip </span><span class="token" style="color:#DD4A68">install</span><span> breathe</span></code></pre><p>Breathe can also be installed with <code>conda</code></p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-bash" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>conda </span><span class="token" style="color:#DD4A68">install</span><span> -c conda-forge breathe</span></code></pre><p>Finally, build the documentation with</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-bash" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#DD4A68">make</span><span> html</span></code></pre><p>from the <code>docs</code> subdirectory.</p><h2>License</h2><p>We use a shared copyright model that enables all contributors to maintain the
copyright on their contributions.</p><p>This software is licensed under the BSD-3-Clause license. See the <a href="LICENSE">LICENSE</a> file for details.</p></div></div><div class="banner footer"><div class="view column"><div class="actions"><div class="links"><a href="/">Buckaroo</a><a href="https://github.com/LoopPerfect/buckaroo/wiki" target="_blank">Docs</a><a href="https://github.com/LoopPerfect/buckaroo" target="_blank">GitHub</a></div><div class="signup"><h1 class="action">Sign up for our Newsletter</h1><div class="info">Get the latest updates about new packages and Buckaroo releases.</div><button>Sign Up</button></div></div><div class="powered"><img src="/LoopPerfectInvertSmall.png"/><span>Powered by LoopPerfect</span></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"packageName":"buckaroo-pm/QuantStack-xsimd","name":"xtensor-stack/xsimd","licence":"BSD-3-Clause","description":"Modern, portable C++ wrappers for SIMD intrinsics and parallelized, optimized math implementations (SSE, AVX, NEON, AVX512)","readme":"# ![xsimd](docs/source/xsimd.svg)\n\n[![Travis](https://travis-ci.org/QuantStack/xsimd.svg?branch=master)](https://travis-ci.org/QuantStack/xsimd)\n[![Appveyor](https://ci.appveyor.com/api/projects/status/unk39xhu0wxmiif7?svg=true)](https://ci.appveyor.com/project/QuantStack/xsimd)\n[![Documentation Status](http://readthedocs.org/projects/xsimd/badge/?version=latest)](https://xsimd.readthedocs.io/en/latest/?badge=latest)\n[![Join the Gitter Chat](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/QuantStack/Lobby?utm_source=badge\u0026utm_medium=badge\u0026utm_campaign=pr-badge\u0026utm_content=badge)\n\nC++ wrappers for SIMD intrinsics\n\n## Introduction\n\nSIMD (Single Instruction, Multiple Data) is a feature of microprocessors that has been available for many years. SIMD instructions perform a single operation\non a batch of values at once, and thus provide a way to significantly accelerate code execution. However, these instructions differ between microprocessor\nvendors and compilers.\n\n`xsimd` provides a unified means for using these features for library authors. Namely, it enables manipulation of batches of numbers with the same arithmetic\noperators as for single values. It also provides accelerated implementation of common mathematical functions operating on batches.\n\nYou can find out more about this implementation of C++ wrappers for SIMD intrinsics at the [The C++ Scientist](http://johanmabille.github.io/blog/archives/).\nThe mathematical functions are a lightweight implementation of the algorithms used in [boost.SIMD](https://github.com/NumScale/boost.simd).\n\n`xsimd` requires a C++14 compliant compiler. The following C++ compilers are supported:\n\nCompiler                | Version\n------------------------|-------------------------------\nMicrosoft Visual Studio | MSVC 2015 update 2 and above\ng++                     | 4.9 and above\nclang                   | 3.7 and above\n\nThe following SIMD instruction set extensions are supported:\n\nArchitecture | Instruction set extensions\n-------------|-----------------------------------------------------\nx86          | SSE2, SSE3, SSSE3, SSE4.1, SSE4.2, AVX, FMA3, AVX2\nx86          | AVX512 (gcc7 and higher)\nx86 AMD      | same as above + SSE4A, FMA4, XOP\nARM          | ARMv7, ARMv8\n\n## Installation\n\n`xsimd` is a header-only library. We provide a package for the conda package manager.\n\n```bash\nconda install -c conda-forge xsimd\n```\n\nOr you can directly install it from the sources:\n\n```bash\ncmake -D CMAKE_INSTALL_PREFIX=your_install_prefix\nmake install\n```\n\n## Documentation\n\nTo get started with using `xsimd`, check out the full documentation\n\nhttp://xsimd.readthedocs.io/\n\n## Usage\n\n### Explicit use of an instruction set extension\n\nHere is an example that computes the mean of two sets of 4 double floating point values, assuming AVX extension is supported:\n```cpp\n#include \u003ciostream\u003e\n#include \"xsimd/xsimd.hpp\"\n\nnamespace xs = xsimd;\n\nint main(int argc, char* argv[])\n{\n    xs::batch\u003cdouble, 4\u003e a(1.5, 2.5, 3.5, 4.5);\n    xs::batch\u003cdouble, 4\u003e b(2.5, 3.5, 4.5, 5.5);\n    auto mean = (a + b) / 2;\n    std::cout \u003c\u003c mean \u003c\u003c std::endl;\n    return 0;\n}\n```\n\nThis example outputs:\n\n```cpp\n(2.0, 3.0, 4.0, 5.0)\n```\n\n### Auto detection of the instruction set extension to be used\n\nThe same computation operating on vectors and using the most performant instruction set available:\n\n```cpp\n#include \u003ccstddef\u003e\n#include \u003cvector\u003e\n#include \"xsimd/xsimd.hpp\"\n\nnamespace xs = xsimd;\nusing vector_type = std::vector\u003cdouble, xsimd::aligned_allocator\u003cdouble, XSIMD_DEFAULT_ALIGNMENT\u003e\u003e;\n\nvoid mean(const vector_type\u0026 a, const vector_type\u0026 b, vector_type\u0026 res)\n{\n    std::size_t size = a.size();\n    constexpr std::size_t simd_size = xsimd::simd_type\u003cdouble\u003e::size;\n    std::size_t vec_size = size - size % simd_size;\n\n    for(std::size_t i = 0; i \u003c vec_size; i += simd_size)\n    {\n        auto ba = xs::load_aligned(\u0026a[i]);\n        auto bb = xs::load_aligned(\u0026b[i]);\n        auto bres = (ba + bb) / 2.;\n        bres.store_aligned(\u0026res[i]);\n    }\n    for(std::size_t i = vec_size; i \u003c size; ++i)\n    {\n        res[i] = (a[i] + b[i]) / 2.;\n    }\n}\n```\n\nWe also implement STL algorithms to work optimally on batches. Using `xsimd::transform`\nthe loop from the example becomes:\n\n```cpp\n#include \u003ccstddef\u003e\n#include \u003cvector\u003e\n#include \"xsimd/xsimd.hpp\"\n#include \"xsimd/stl/algorithms.hpp\"\n\nnamespace xs = xsimd;\nusing vector_type = std::vector\u003cdouble, xsimd::aligned_allocator\u003cdouble, XSIMD_DEFAULT_ALIGNMENT\u003e\u003e;\n\nvoid mean(const vector_type\u0026 a, const vector_type\u0026 b, vector_type\u0026 res)\n{\n    xsimd::transform(a.begin(), a.end(), b.begin(), res.begin(),\n                     [](const auto\u0026 x, const auto\u0026 y) { (x + y) / 2.; });\n}\n```\n\n\n## Building and Running the Tests\n\nBuilding the tests requires the [GTest](https://github.com/google/googletest) testing framework and [cmake](https://cmake.org).\n\ngtest and cmake are available as a packages for most linux distributions. Besides, they can also be installed with the `conda` package manager (even on windows):\n\n```bash\nconda install -c conda-forge gtest cmake\n```\n\nOnce `gtest` and `cmake` are installed, you can build and run the tests:\n\n```bash\nmkdir build\ncd build\ncmake ../ -DBUILD_TESTS=ON\nmake xtest\n```\n\nIn the context of continuous integration with Travis CI, tests are run in a `conda` environment, which can be activated with\n\n```bash\ncd test\nconda env create -f ./test-environment.yml\nsource activate test-xsimd\ncd ..\ncmake . -DBUILD_TESTS=ON\nmake xtest\n```\n\n## Building the HTML Documentation\n\nxsimd's documentation is built with three tools\n\n - [doxygen](http://www.doxygen.org)\n - [sphinx](http://www.sphinx-doc.org)\n - [breathe](https://breathe.readthedocs.io)\n\nWhile doxygen must be installed separately, you can install breathe by typing\n\n```bash\npip install breathe\n``` \n\nBreathe can also be installed with `conda`\n\n```bash\nconda install -c conda-forge breathe\n```\n\nFinally, build the documentation with\n\n```bash\nmake html\n```\n\nfrom the `docs` subdirectory.\n\n## License\n\nWe use a shared copyright model that enables all contributors to maintain the\ncopyright on their contributions.\n\nThis software is licensed under the BSD-3-Clause license. See the [LICENSE](LICENSE) file for details.\n","versions":[{"ref":"master","manifest":"targets = [ \"//:xsimd\" ]\n\n[[dependency]]\npackage = \"github.com/buckaroo-pm/google-googletest\"\nversion = \"*\"\nprivate = true\n","lockFile":"manifest = \"d0cfd2b79a9d8a24d31aaf6106f363d2fd13d2d85bdc4d33d20c2c6a368018f9\"\n\n[[dependency]]\npackage = \"github.com/buckaroo-pm/google-googletest\"\ntarget = \"//:googletest\"\n\n[lock.\"github.com/buckaroo-pm/google-googletest\"]\nversions = [ \"branch=master\" ]\nrevision = \"cb8d2c1a2fcd344953e6c129a1a699a2c230551d\"\n","buck":"load('//:subdir_glob.bzl', 'subdir_glob')\n\nprebuilt_cxx_library(\n  name = 'xsimd',\n  header_only = True,\n  header_namespace = '',\n  exported_headers = subdir_glob([\n    ('include', '**/*.hpp'),\n  ]),\n  visibility = [\n    'PUBLIC',\n  ],\n)\n","bazel":"","deps":[{"uri":"github.com/buckaroo-pm/google-googletest","name":"buckaroo-pm/google-googletest","version":"*"}],"lock":[{"uri":"github.com/buckaroo-pm/google-googletest","name":"buckaroo-pm/google-googletest","spec":{"versions":["branch=master"],"revision":"cb8d2c1a2fcd344953e6c129a1a699a2c230551d"}}]}],"updated":"2019-10-14T14:07:49Z","updatedUpstream":"2021-01-10T17:03:58Z","contributors":[{"login":"hleclerc","avatarUrl":"https://avatars2.githubusercontent.com/u/222970?v=4"},{"login":"bluescarni","avatarUrl":"https://avatars2.githubusercontent.com/u/623038?u=503a0d485a371ad7de75e5d746709104284b5661\u0026v=4"},{"login":"timblechmann","avatarUrl":"https://avatars2.githubusercontent.com/u/792880?v=4"},{"login":"serge-sans-paille","avatarUrl":"https://avatars1.githubusercontent.com/u/863807?v=4"},{"login":"wolfv","avatarUrl":"https://avatars0.githubusercontent.com/u/885054?u=833ad7754e88429d7e610f9324ca6bc18d8e1bf0\u0026v=4"},{"login":"ukoethe","avatarUrl":"https://avatars2.githubusercontent.com/u/897680?v=4"},{"login":"mainland","avatarUrl":"https://avatars2.githubusercontent.com/u/1089866?v=4"},{"login":"emmenlau","avatarUrl":"https://avatars2.githubusercontent.com/u/1098087?u=395c03e6379b326128c268c3bd3a12c3da17ea60\u0026v=4"},{"login":"andre-bergner","avatarUrl":"https://avatars2.githubusercontent.com/u/1143094?v=4"},{"login":"HadrienG2","avatarUrl":"https://avatars0.githubusercontent.com/u/1305080?u=89566450597ec178f3a090c51c8640545a754274\u0026v=4"},{"login":"ax3l","avatarUrl":"https://avatars2.githubusercontent.com/u/1353258?u=5bf40e16b963cf080bc0d3a1a0e0192dbd80d422\u0026v=4"},{"login":"AlessioZanga","avatarUrl":"https://avatars3.githubusercontent.com/u/2170744?u=25547b2fe2b524d20a375ccfbe86ea5a81438041\u0026v=4"},{"login":"SylvainCorlay","avatarUrl":"https://avatars0.githubusercontent.com/u/2397974?u=8c2e50e43baf59740e5b12b48b0f1699caa058f8\u0026v=4"},{"login":"robertodr","avatarUrl":"https://avatars0.githubusercontent.com/u/3708689?v=4"},{"login":"adytzu2007","avatarUrl":"https://avatars1.githubusercontent.com/u/4578823?v=4"},{"login":"davidbrochart","avatarUrl":"https://avatars1.githubusercontent.com/u/4711805?u=64de197496f253da73b96559d0fcf1c89e64beec\u0026v=4"},{"login":"omaralvarez","avatarUrl":"https://avatars3.githubusercontent.com/u/5764407?u=1dc9053cc5f98c66b6b981c027d3c43ec0b37f81\u0026v=4"},{"login":"egpbos","avatarUrl":"https://avatars3.githubusercontent.com/u/6146598?u=c66c20108b3068c0d31746b7544c7da92935a939\u0026v=4"},{"login":"easyaspi314","avatarUrl":"https://avatars3.githubusercontent.com/u/6258309?u=422f9c6eae6706269fdd2e0e4f873f517d2a948c\u0026v=4"},{"login":"JohanMabille","avatarUrl":"https://avatars3.githubusercontent.com/u/6754742?u=775b86dd500eb42711a48b35928b898bfa183c92\u0026v=4"},{"login":"tdegeus","avatarUrl":"https://avatars1.githubusercontent.com/u/7030445?u=4ae813be4d6381a7dd012a3ec28e95d0b24b1eb4\u0026v=4"},{"login":"gouarin","avatarUrl":"https://avatars0.githubusercontent.com/u/7510549?u=12fdb4d769af1a23d1694f12ce2cb8d29e2f85eb\u0026v=4"},{"login":"chriselrod","avatarUrl":"https://avatars3.githubusercontent.com/u/8043603?v=4"},{"login":"cstratopoulos","avatarUrl":"https://avatars2.githubusercontent.com/u/10555060?u=363d372cde492eb06978576d34d4c7c2add30188\u0026v=4"},{"login":"zouyxdut","avatarUrl":"https://avatars2.githubusercontent.com/u/11425914?u=1d5096684cb9f861bf81728869fb56ed7baf010e\u0026v=4"}],"fundingLinks":[],"contactLinks":[],"stars":928,"forks":115,"topics":["simd-intrinsics","c-plus-plus-14","vectorization","simd","cpp","avx","neon","sse","avx512","simd-instructions","mathematical-functions"]}},"__N_SSG":true},"page":"/packages/[owner]/[name]","query":{"owner":"buckaroo-pm","name":"QuantStack-xsimd"},"buildId":"XEnVUsOG7VkTdg59Wro6f","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-617a3a2c770be2525c7f.js"></script><script src="/_next/static/chunks/main-7d1613afc8c8f43cb50f.js" async=""></script><script src="/_next/static/chunks/webpack-95c2b224bccf352ee870.js" async=""></script><script src="/_next/static/chunks/framework.ae3781fe50e43492a499.js" async=""></script><script src="/_next/static/chunks/commons.9b549cceddc4472f1953.js" async=""></script><script src="/_next/static/chunks/pages/_app-3e4ffec4bbf3a45ef50f.js" async=""></script><script src="/_next/static/chunks/c18d713dde5d8f274a9340ae8a63196292880c5e.7af0c42e7b17c91d2be5.js" async=""></script><script src="/_next/static/chunks/pages/packages/%5Bowner%5D/%5Bname%5D-bc25a6cf0982fd349b0a.js" async=""></script><script src="/_next/static/XEnVUsOG7VkTdg59Wro6f/_buildManifest.js" async=""></script><script src="/_next/static/XEnVUsOG7VkTdg59Wro6f/_ssgManifest.js" async=""></script></body></html>