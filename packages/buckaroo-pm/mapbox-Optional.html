<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"/><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/a0584ae5515792e72ab5.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a0584ae5515792e72ab5.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-7d1613afc8c8f43cb50f.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-95c2b224bccf352ee870.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.ae3781fe50e43492a499.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.9b549cceddc4472f1953.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-3e4ffec4bbf3a45ef50f.js" as="script"/><link rel="preload" href="/_next/static/chunks/c18d713dde5d8f274a9340ae8a63196292880c5e.7af0c42e7b17c91d2be5.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/packages/%5Bowner%5D/%5Bname%5D-bc25a6cf0982fd349b0a.js" as="script"/></head><body><div id="__next"><div class="site"><div class="navigation"><div class="view row space-between"><div class="links"><a class="buckaroo" href="/">Buckaroo</a><a href="https://github.com/LoopPerfect/buckaroo/wiki" target="_blank">Docs</a><a href="/blog">Blog</a></div><div class="search"><input placeholder="search for a module..." value=""/><button class="fa fa-search fa-large"></button></div><iframe id="star-button" src="https://ghbtns.com/github-btn.html?user=LoopPerfect&amp;repo=buckaroo&amp;type=star&amp;count=true&amp;size=large" frameBorder="0" scrolling="0" width="160px" height="30px"></iframe></div></div><div></div><div class="banner"><div style="display:flex"><div class="package"><img src="/packages/buckaroo-pm/mapbox-Optional/logo.png"/></div><div><h1>buckaroo-pm/mapbox-Optional</h1><div style="max-width:600px">optional (nullable) objects for C++14</div><br/><div><b>2</b></div></div></div><div style="display:inline-flex;flex-flow:row wrap"></div></div><div style="display:flex;width:100%;justify-content:center;margin-top:-2.7em"><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:white;color:black;border:solid 1px #fff">ReadMe</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Buck</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Manifest</div><div class="tab-control" style="padding:0.5em;border-radius:0.2em;font-size:1.5em;background:none;color:white;border:solid 1px #fff">Dependencies</div></div><div class="banner white"><div class="view column"><h2>ReadMe</h2><h1>Optional</h1><p>A single-header header-only library for representing optional (nullable) objects for C++14 (and C++11 to some extent) and passing them by value. This is the reference implementation of proposal N3793 (see <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3793.html)">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3793.html)</a>. Optional is now accepted into Library Fundamentals Technical Specification (see <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n3848.html)">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n3848.html)</a>. The interface is based on Fernando Cacciola&#x27;s Boost.Optional library (see <a href="http://www.boost.org/doc/libs/1_52_0/libs/optional/doc/html/index.html">http://www.boost.org/doc/libs/1_52_0/libs/optional/doc/html/index.html</a>)</p><h2>Usage</h2><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-cpp" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>optional</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#07a">int</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> </span><span class="token" style="color:#DD4A68">readInt</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// this function may return int or a not-an-int</span><span>
</span>
<span></span><span class="token" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span>optional</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token" style="color:#07a">int</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span> oi </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">readInt</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:slategray">// did I get a real int</span><span>
</span><span>  cout </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;&lt;</span><span> </span><span class="token" style="color:#690">&quot;my int is: &quot;</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;&lt;</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">*</span><span>oi</span><span class="token" style="color:#999">;</span><span>   </span><span class="token" style="color:slategray">// use my int</span><span>
</span><span></span><span class="token" style="color:#07a">else</span><span>
</span><span>  cout </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;&lt;</span><span> </span><span class="token" style="color:#690">&quot;I have no int&quot;</span><span class="token" style="color:#999">;</span></code></pre><p>For more usage examples and the overview see <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3527.html">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3527.html</a></p><h2>Supported compilers</h2><p>Clang 3.2, Clang 3.4, G++ 4.7.2, G++ 4.8.1. Tested only with libstdc++, versions 20130531, 20120920, 20110428. Others have reported it also works with libc++.</p><h2>Known Issues</h2><ul><li>Currently, the reference (and the only known) implementation of certain pieces of functionality explore what C++11 identifies as undefined behavior (see national body comment FI 15: <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3770.html#FI15)">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3770.html#FI15)</a>. This is mostly why Optional was removed from C++14 and put into Library Fundamentals TS. Luckily what the Standard identifies as UB is well defined on all known platforms. We expect that the C++14 wil fix this problem, so that our trick becomes well-defined.</li><li>In libstdc++ versions below 20130531 the constructor taking <code>initializer_list</code> argument is not <code>constexpr</code>. This is because <code>initializer_list</code> operations are not <code>constexpr</code> in C++11. This works however in version 20130531. It is also not enabled for libc++ because I do not have access to it and do not know if it provides <code>constexpr</code> <code>initializer_list</code>.</li><li>In G++ 4.7.2 and 4.8.0 member function <code>value_or</code> does not have rvalue reference overload. These compilers do not support rvalue overloding on <code>*this</code>.</li><li>In order for the library to work with slightly older compilers, we emulate some missing type traits. On some platforms we cannot correctly detect the available features, and attempts at workarounds for missing type trait definitions can cause compile-time errors. Define macro <code>TR2_OPTIONAL_DISABLE_EMULATION_OF_TYPE_TRAITS</code> if you know that all the necessary type traits are defined, and no emulation is required.</li></ul><h2>License</h2><p>Distributed under the <a href="http://www.boost.org/LICENSE_1_0.txt">Boost Software License, Version 1.0</a>.</p></div></div><div class="banner footer"><div class="view column"><div class="actions"><div class="links"><a href="/">Buckaroo</a><a href="https://github.com/LoopPerfect/buckaroo/wiki" target="_blank">Docs</a><a href="https://github.com/LoopPerfect/buckaroo" target="_blank">GitHub</a></div><div class="signup"><h1 class="action">Sign up for our Newsletter</h1><div class="info">Get the latest updates about new packages and Buckaroo releases.</div><button>Sign Up</button></div></div><div class="powered"><img src="/LoopPerfectInvertSmall.png"/><span>Powered by LoopPerfect</span></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"data":{"packageName":"buckaroo-pm/mapbox-Optional","name":"mapbox/Optional","licence":"NOASSERTION","description":"optional (nullable) objects for C++14","readme":"Optional\n========\n\nA single-header header-only library for representing optional (nullable) objects for C++14 (and C++11 to some extent) and passing them by value. This is the reference implementation of proposal N3793 (see http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3793.html). Optional is now accepted into Library Fundamentals Technical Specification (see http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n3848.html). The interface is based on Fernando Cacciola's Boost.Optional library (see http://www.boost.org/doc/libs/1_52_0/libs/optional/doc/html/index.html)\n\n\nUsage\n-----\n\n```cpp\noptional\u003cint\u003e readInt(); // this function may return int or a not-an-int\n\nif (optional\u003cint\u003e oi = readInt()) // did I get a real int\n  cout \u003c\u003c \"my int is: \" \u003c\u003c *oi;   // use my int\nelse\n  cout \u003c\u003c \"I have no int\";\n```\n\nFor more usage examples and the overview see http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3527.html\n\n\nSupported compilers\n-------------------\n\nClang 3.2, Clang 3.4, G++ 4.7.2, G++ 4.8.1. Tested only with libstdc++, versions 20130531, 20120920, 20110428. Others have reported it also works with libc++.\n\n\n\nKnown Issues\n------------\n\n - Currently, the reference (and the only known) implementation of certain pieces of functionality explore what C++11 identifies as undefined behavior (see national body comment FI 15: http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3770.html#FI15). This is mostly why Optional was removed from C++14 and put into Library Fundamentals TS. Luckily what the Standard identifies as UB is well defined on all known platforms. We expect that the C++14 wil fix this problem, so that our trick becomes well-defined.\n - In libstdc++ versions below 20130531 the constructor taking `initializer_list` argument is not `constexpr`. This is because `initializer_list` operations are not `constexpr` in C++11. This works however in version 20130531. It is also not enabled for libc++ because I do not have access to it and do not know if it provides `constexpr` `initializer_list`.\n - In G++ 4.7.2 and 4.8.0 member function `value_or` does not have rvalue reference overload. These compilers do not support rvalue overloding on `*this`.\n - In order for the library to work with slightly older compilers, we emulate some missing type traits. On some platforms we cannot correctly detect the available features, and attempts at workarounds for missing type trait definitions can cause compile-time errors. Define macro `TR2_OPTIONAL_DISABLE_EMULATION_OF_TYPE_TRAITS` if you know that all the necessary type traits are defined, and no emulation is required.\n\nLicense\n-------\nDistributed under the [Boost Software License, Version 1.0](http://www.boost.org/LICENSE_1_0.txt).\n","versions":[{"ref":"master","manifest":"targets = [ \"//:optional\" ]\n","lockFile":"","buck":"prebuilt_cxx_library(\n  name = 'optional', \n  header_namespace = '', \n  header_only = True, \n  exported_headers = [\n    'optional.hpp', \n  ], \n  licenses = [\n    'LICENSE', \n  ], \n  visibility = [\n    'PUBLIC', \n  ], \n)\n\ncxx_binary(\n  name = 'test-optional', \n  srcs = [\n    'test_optional.cpp', \n  ], \n  deps = [\n    ':optional', \n  ], \n)\n\ncxx_binary(\n  name = 'test-type-traits', \n  srcs = [\n    'test_type_traits.cpp', \n  ], \n  deps = [\n    ':optional', \n  ], \n)\n","bazel":"","deps":[],"lock":[]}],"updated":"2018-11-11T22:58:18Z","updatedUpstream":"2020-11-17T08:12:30Z","contributors":[{"login":"willwhite","avatarUrl":"https://avatars1.githubusercontent.com/u/93564?u=3e17a4a45e3ce686ca811d9ed79257db04ff345f\u0026v=4"},{"login":"cmulli","avatarUrl":"https://avatars3.githubusercontent.com/u/475316?u=b1c7a2d06598e9e7943eb92ec24f4e2506b0e663\u0026v=4"},{"login":"rclark","avatarUrl":"https://avatars0.githubusercontent.com/u/515424?v=4"},{"login":"tmpsantos","avatarUrl":"https://avatars0.githubusercontent.com/u/996307?v=4"},{"login":"ArpitaBiswas","avatarUrl":"https://avatars3.githubusercontent.com/u/3260021?u=a05ba5a53cae750c4df144e4d9e1fe5d001098e3\u0026v=4"},{"login":"npeternel","avatarUrl":"https://avatars0.githubusercontent.com/u/10649205?u=7001985db8cddc3bfc9ba581aaee4473a5909e18\u0026v=4"},{"login":"jlin12358","avatarUrl":"https://avatars1.githubusercontent.com/u/18368871?v=4"},{"login":"Hotelkin","avatarUrl":"https://avatars3.githubusercontent.com/u/19272678?u=b5924fce2af6b92a26335a7f5ad28ab4f32f5f38\u0026v=4"},{"login":"trevorspecht","avatarUrl":"https://avatars0.githubusercontent.com/u/29611310?u=0a53808c4bb714c22424f2da07022122de64f58e\u0026v=4"},{"login":"platanosf","avatarUrl":"https://avatars3.githubusercontent.com/u/44051572?v=4"},{"login":"cole-seph-work","avatarUrl":"https://avatars0.githubusercontent.com/u/53199598?u=c71e5b7a71747e17a316b7cc14b9bf127ca8ea35\u0026v=4"},{"login":"mapboxit","avatarUrl":"https://avatars2.githubusercontent.com/u/55812960?v=4"},{"login":"shaina43","avatarUrl":"https://avatars1.githubusercontent.com/u/57018853?u=214f118fb6981a1a81b126f0301f3fc50c73fa83\u0026v=4"},{"login":"mapbox-machine-integration","avatarUrl":"https://avatars2.githubusercontent.com/u/57966702?v=4"}],"fundingLinks":[],"contactLinks":[],"stars":2,"forks":3,"topics":[]}},"__N_SSG":true},"page":"/packages/[owner]/[name]","query":{"owner":"buckaroo-pm","name":"mapbox-Optional"},"buildId":"XEnVUsOG7VkTdg59Wro6f","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-617a3a2c770be2525c7f.js"></script><script src="/_next/static/chunks/main-7d1613afc8c8f43cb50f.js" async=""></script><script src="/_next/static/chunks/webpack-95c2b224bccf352ee870.js" async=""></script><script src="/_next/static/chunks/framework.ae3781fe50e43492a499.js" async=""></script><script src="/_next/static/chunks/commons.9b549cceddc4472f1953.js" async=""></script><script src="/_next/static/chunks/pages/_app-3e4ffec4bbf3a45ef50f.js" async=""></script><script src="/_next/static/chunks/c18d713dde5d8f274a9340ae8a63196292880c5e.7af0c42e7b17c91d2be5.js" async=""></script><script src="/_next/static/chunks/pages/packages/%5Bowner%5D/%5Bname%5D-bc25a6cf0982fd349b0a.js" async=""></script><script src="/_next/static/XEnVUsOG7VkTdg59Wro6f/_buildManifest.js" async=""></script><script src="/_next/static/XEnVUsOG7VkTdg59Wro6f/_ssgManifest.js" async=""></script></body></html>